<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>窗外蟋蟀 &#39;s Blog</title>
  
  <subtitle>Quick notes</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://perkyrookie.github.io/"/>
  <updated>2019-01-22T15:39:49.521Z</updated>
  <id>https://perkyrookie.github.io/</id>
  
  <author>
    <name>窗外蟋蟀</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>数据结构：快速排序代码（已优化）</title>
    <link href="https://perkyrookie.github.io/PerkyRookie/674a2e0b/"/>
    <id>https://perkyrookie.github.io/PerkyRookie/674a2e0b/</id>
    <published>2019-01-22T13:00:24.000Z</published>
    <updated>2019-01-22T15:39:49.521Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><img src="https://upload-images.jianshu.io/upload_images/13694807-c3a07c4c0e1b21b1.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p><a id="more"></a><h1 id="&#x524D;&#x8A00;"><a href="#&#x524D;&#x8A00;" class="headerlink" title="&#x524D;&#x8A00;"></a>&#x524D;&#x8A00;</h1><blockquote><p>&#x5728;<a href="https://perkyrookie.github.io/PerkyRookie/8e556346/">&#x4E0A;&#x4E00;&#x7BC7;&#x535A;&#x5BA2;</a>&#x4E2D;&#x5DF2;&#x7ECF;&#x8BA8;&#x8BBA;&#x8FC7;&#x5173;&#x4E8E;&#x5FEB;&#x901F;&#x6392;&#x5E8F;&#x5982;&#x4F55;&#x4F18;&#x5316;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x8FD9;&#x6B21;&#x5C31;&#x76F4;&#x63A5;&#x8D34;&#x51FA;&#x5B8C;&#x6574;&#x5DF2;&#x4F18;&#x5316;&#x7684;&#x4EE3;&#x7801;&#x3002;&#x6B64;&#x4EE3;&#x7801;&#x4F18;&#x5316;&#x6B65;&#x9AA4;&#x5305;&#x62EC;&#x4E86;&#x4E09;&#x6570;&#x53D6;&#x4E2D;&#x9009;&#x53D6;&#x67A2;&#x8F74;+&#x5C0F;&#x6570;&#x7EC4;&#x4F7F;&#x7528;&#x63D2;&#x6392;+&#x4E09;&#x5411;&#x5207;&#x5206;&#x3002;</p></blockquote><h1 id="&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#xFF1A;"><a href="#&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#xFF1A;" class="headerlink" title="&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#xFF1A;"></a>&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#xFF1A;</h1><figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXSIZE 100<span class="comment">//&#x7528;&#x4E8E;&#x8981;&#x6392;&#x5E8F;&#x6570;&#x7EC4;&#x7684;&#x6700;&#x5927;&#x503C; </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAX_LENGTH_INSERT_SORT 7<span class="comment">//&#x6570;&#x7EC4;&#x957F;&#x5EA6;&#x9608;&#x503C; </span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span>//&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x987A;&#x5E8F;&#x8868;&#x7ED3;&#x6784; </span></span><br><span class="line"><span class="class">{</span></span><br><span class="line">    <span class="keyword">int</span> r[MAXSIZE+<span class="number">1</span>];<span class="comment">//&#x7528;&#x4E8E;&#x5B58;&#x50A8;&#x8981;&#x6392;&#x5E8F;&#x6570;&#x7EC4;&#xFF0C;r[0]&#x7528;&#x4F5C;&#x54E8;&#x5175;&#x6216;&#x8005;&#x4E34;&#x65F6;&#x53D8;&#x91CF; </span></span><br><span class="line">    <span class="keyword">int</span> length;<span class="comment">//&#x7528;&#x4E8E;&#x5B58;&#x50A8;&#x987A;&#x5E8F;&#x8868;&#x7684;&#x6700;&#x5927;&#x957F;&#x5EA6; </span></span><br><span class="line">}SqList;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">swap</span><span class="params">(SqList *L,<span class="keyword">int</span> i,<span class="keyword">int</span> j)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">InsertSort</span><span class="params">(SqList *L)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">PickMiddle</span><span class="params">(SqList *L,<span class="keyword">int</span> low,<span class="keyword">int</span> high)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Partition</span><span class="params">(SqList *L,<span class="keyword">int</span> low,<span class="keyword">int</span> high)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">QSort</span><span class="params">(SqList *L,<span class="keyword">int</span> low,<span class="keyword">int</span> high)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">QuickSort</span><span class="params">(SqList *L)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">    <span class="keyword">int</span> <span class="built_in">array</span>[] = {<span class="number">39</span>,<span class="number">80</span>,<span class="number">76</span>,<span class="number">41</span>,<span class="number">13</span>,<span class="number">29</span>,<span class="number">50</span>,<span class="number">78</span>,<span class="number">30</span>,<span class="number">11</span>,<span class="number">100</span>,<span class="number">7</span>,<span class="number">41</span>,<span class="number">86</span>,<span class="number">41</span>,<span class="number">11</span>,<span class="number">30</span>};</span><br><span class="line">    SqList L;</span><br><span class="line">    L.length = <span class="keyword">sizeof</span>(<span class="built_in">array</span>)/<span class="keyword">sizeof</span>(<span class="built_in">array</span>[<span class="number">0</span>]);<span class="comment">//&#x83B7;&#x53D6;&#x6570;&#x7EC4;&#x957F;&#x5EA6; </span></span><br><span class="line"> </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Before sorting:&quot;</span>);</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;L.length;i++)</span><br><span class="line">    {</span><br><span class="line">        L.r[i+<span class="number">1</span>]=<span class="built_in">array</span>[i];<span class="comment">//&#x628A;&#x6570;&#x7EC4;&#x5B58;&#x5165;&#x987A;&#x5E8F;&#x8868;&#x7ED3;&#x6784; </span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>,L.r[i+<span class="number">1</span>]);</span><br><span class="line">    }</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n\n&quot;</span>);</span><br><span class="line">    </span><br><span class="line">    QuickSort(&amp;L);</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;After sorting: &quot;</span>);</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;L.length;i++)<span class="comment">//&#x8F93;&#x51FA;&#x6392;&#x5E8F;&#x540E;&#x7684;&#x6570;&#x7EC4; </span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>,L.r[i+<span class="number">1</span>]);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">/*&#x5143;&#x7D20;&#x4EA4;&#x6362;&#x51FD;&#x6570;*/</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">swap</span><span class="params">(SqList *L,<span class="keyword">int</span> i,<span class="keyword">int</span> j)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> temp=L-&gt;r[i];</span><br><span class="line">    L-&gt;r[i]=L-&gt;r[j];</span><br><span class="line">    L-&gt;r[j]=temp;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">/*&#x5FEB;&#x901F;&#x6392;&#x5E8F;&#x4E3B;&#x51FD;&#x6570;*/</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">QuickSort</span><span class="params">(SqList *L)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    QSort(L,<span class="number">1</span>,L-&gt;length);<span class="comment">//L-&gt;r[0]&#x4F5C;&#x4E3A;&#x54E8;&#x5175;&#xFF0C;low&#x4ECE;1&#x5F00;&#x59CB; </span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">/*&#x5FEB;&#x6392;&#x5904;&#x7406;&#x51FD;&#x6570;*/</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">QSort</span><span class="params">(SqList *L,<span class="keyword">int</span> low,<span class="keyword">int</span> high)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="comment">/* if-else&#x6761;&#x4EF6;&#x8BED;&#x53E5;&#x7528;&#x4E8E;&#x5904;&#x7406;&#x5C0F;&#x6570;&#x7EC4;&#x5904;&#x7406;&#x7684;&#x95EE;&#x9898;&#xFF0C;</span></span><br><span class="line"><span class="comment">     * &#x5177;&#x4F53;&#x5E8F;&#x5217;&#x503C;&#x8BF4;&#x6CD5;&#x4E0D;&#x4E00;&#xFF0C;&#x6B64;&#x5904;&#x5B9A;&#x4E3A;7&#xFF08;&#x4E5F;&#x6709;&#x8BA4;&#x4E3A;50&#x5408;&#x7406;&#xFF09;&#x3002;&#x82E5;&#x6570;&#x7EC4;</span></span><br><span class="line"><span class="comment">     * &#x4E2A;&#x6570;&#x8F83;&#x5C0F;&#x91C7;&#x7528;&#x7B80;&#x5355;&#x63D2;&#x5165;&#x6392;&#x5E8F;&#xFF0C;&#x6548;&#x7387;&#x66F4;&#x9AD8;&#x3002;*/</span></span><br><span class="line">    <span class="keyword">if</span>((high-low) &lt;= MAX_LENGTH_INSERT_SORT)</span><br><span class="line">    {</span><br><span class="line">    InsertSort(L);</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    PickMiddle(L,low,high);<span class="comment">//&#x4E09;&#x6570;&#x53D6;&#x4E2D;&#x51FD;&#x6570;</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">int</span> lt = low;<span class="comment">//low&#x6B64;&#x65F6;&#x4E3A;&#x67A2;&#x8F74;&#x4F4D;&#x7F6E;</span></span><br><span class="line">    <span class="keyword">int</span> gt = high;</span><br><span class="line">    <span class="keyword">int</span> i = low +<span class="number">1</span>;<span class="comment">//low&#x4F4D;&#x7F6E;&#x7684;&#x5143;&#x7D20;&#x4E3A;&#x67A2;&#x8F74;&#x5143;&#x7D20;&#xFF0C;&#x6240;&#x4EE5;&#x7528;&#x4E8E;&#x6BD4;&#x8F83;&#x7684;&#x5143;&#x7D20;&#x4ECE;low+1&#x5F00;&#x59CB;</span></span><br><span class="line">    </span><br><span class="line">    L-&gt;r[<span class="number">0</span>]=L-&gt;r[low];<span class="comment">//&#x5C06;&#x67A2;&#x8F74;&#x7684;&#x5143;&#x7D20;&#x50A8;&#x5B58;&#x5230;L-&gt;r[0]&#x4E2D; </span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span>(i&lt;=gt)</span><br><span class="line">    {</span><br><span class="line">    <span class="keyword">if</span>(L-&gt;r[i] &lt; L-&gt;r[<span class="number">0</span>])<span class="comment">//&#x5C0F;&#x4E8E;&#x67A2;&#x8F74;&#x5143;&#x7D20;&#x7684;&#x653E;&#x5728;lt&#x5DE6;&#x8FB9; </span></span><br><span class="line">        swap(L,lt++,i++);<span class="comment">//&#x5373;&#x4EA4;&#x6362;lt&#x548C;i&#x4F4D;&#x7F6E;&#x7684;&#x5143;&#x7D20;&#xFF0C;&#x6B64;&#x65F6;&#x67A2;&#x7EBD;&#x4F4D;&#x7F6E;(lt)&#x53F3;&#x79FB;&#x4E00;&#x4F4D;&#xFF0C;i&#x4E5F;&#x56E0;&#x6B64;&#x53F3;&#x79FB;</span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(L-&gt;r[i] &gt; L-&gt;r[<span class="number">0</span>])<span class="comment">//&#x5927;&#x4E8E;&#x67A2;&#x8F74;&#x5143;&#x7D20;&#x7684;&#x653E;&#x5728;gt&#x53F3;&#x8FB9; </span></span><br><span class="line">        swap(L,i,gt--);<span class="comment">//&#x4EA4;&#x6362;i&#x548C;gt&#x4F4D;&#x7F6E;&#x7684;&#x5143;&#x7D20;&#xFF0C;gt&#x9700;&#x8981;&#x5DE6;&#x79FB;&#xFF0C;i&#x7531;&#x4E8E;&#x53D8;&#x4E3A;gt&#x4F4D;&#x7F6E;&#x5143;&#x7D20;&#xFF0C;&#x6240;&#x4EE5;&#x4E0D;&#x9700;&#x8981;&#x79FB;&#x52A8;</span></span><br><span class="line">    <span class="keyword">else</span><span class="comment">//&#x76F8;&#x7B49;&#x65F6;&#xFF0C;&#x65E0;&#x9700;&#x4EA4;&#x6362;&#xFF0C;&#x53EA;&#x9700;&#x628A;i&#x53F3;&#x79FB;&#x4E00;&#x4F4D;</span></span><br><span class="line">        i++;</span><br><span class="line">    }</span><br><span class="line">    <span class="comment">//lt-gt&#x7684;&#x5143;&#x7D20;&#x5DF2;&#x7ECF;&#x6392;&#x5B9A;&#xFF08;&#x76F8;&#x7B49;&#x7684;&#x5143;&#x7D20;&#xFF09;&#xFF0C;&#x53EA;&#x9700;&#x5BF9;it&#x5DE6;&#x8FB9;&#x548C;gt&#x53F3;&#x8FB9;&#x7684;&#x5143;&#x7D20;&#x8FDB;&#x884C;&#x9012;&#x5F52;&#x6C42;&#x89E3;</span></span><br><span class="line">    QSort(L,low,lt<span class="number">-1</span>);</span><br><span class="line">    QSort(L,gt+<span class="number">1</span>,high);</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">/*&#x4E09;&#x6570;&#x53D6;&#x4E2D;&#x51FD;&#x6570;*/</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">PickMiddle</span><span class="params">(SqList *L,<span class="keyword">int</span> low,<span class="keyword">int</span> high)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> mid = (low+high) / <span class="number">2</span>;<span class="comment">//&#x8BA1;&#x7B97;&#x6570;&#x7EC4;&#x4E2D;&#x95F4;&#x5143;&#x7D20;&#x7684;&#x4E0B;&#x6807;</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span>(L-&gt;r[low]&gt;L-&gt;r[high]) </span><br><span class="line">    swap(L,low,high);<span class="comment">//&#x76EE;&#x6807;[low]&lt;=[high] </span></span><br><span class="line">    <span class="keyword">if</span>(L-&gt;r[mid]&gt;L-&gt;r[high])</span><br><span class="line">    swap(L,mid,high);<span class="comment">//&#x76EE;&#x6807;[mid]&lt;=[high] </span></span><br><span class="line">    <span class="comment">//&#x4EE5;&#x4E0A;&#x4E24;&#x6B65;&#x4FDD;&#x8BC1;&#x628A;&#x6700;&#x5927;&#x79FB;&#x5230;&#x6700;&#x53F3;&#x7AEF; </span></span><br><span class="line">    <span class="keyword">if</span>(L-&gt;r[mid]&gt;L-&gt;r[low])</span><br><span class="line">    swap(L,mid,low);<span class="comment">//&#x76EE;&#x6807;[low]&gt;=[mid],&#x5373;&#x628A;&#x4E2D;&#x95F4;&#x503C;&#x79FB;&#x5230;&#x6700;&#x5DE6;&#x7AEF; </span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//&#x6B64;&#x65F6;&#xFF0C;L-&gt;r[mid] &lt;= L-&gt;r[low] &lt;= L-&gt;r[high]</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">/*&#x76F4;&#x63A5;&#x63D2;&#x5165;&#x6392;&#x5E8F;*/</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">InsertSort</span><span class="params">(SqList *L)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> i,j;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">2</span>; i&lt;=L-&gt;length; i++)</span><br><span class="line">    {</span><br><span class="line">    <span class="keyword">if</span>(L-&gt;r[i] &lt; L-&gt;r[i<span class="number">-1</span>])</span><br><span class="line">    {</span><br><span class="line">            L-&gt;r[<span class="number">0</span>]=L-&gt;r[i];</span><br><span class="line">            <span class="keyword">for</span>(j=i<span class="number">-1</span>; L-&gt;r[j] &gt; L-&gt;r[<span class="number">0</span>]; j--)</span><br><span class="line">            L-&gt;r[j+<span class="number">1</span>]=L-&gt;r[j];</span><br><span class="line">            L-&gt;r[j+<span class="number">1</span>]=L-&gt;r[<span class="number">0</span>];</span><br><span class="line">    }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>&#x8FD0;&#x884C;&#x7ED3;&#x679C;&#x4E3A;&#xFF1A;</p><p><img src="https://upload-images.jianshu.io/upload_images/13694807-a177a68ccb37de29.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;https://upload-images.jianshu.io/upload_images/13694807-c3a07c4c0e1b21b1.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="C" scheme="https://perkyrookie.github.io/tags/C/"/>
    
      <category term="排序算法" scheme="https://perkyrookie.github.io/tags/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>数据结构：快速排序优化思路</title>
    <link href="https://perkyrookie.github.io/PerkyRookie/8e556346/"/>
    <id>https://perkyrookie.github.io/PerkyRookie/8e556346/</id>
    <published>2019-01-21T09:12:37.000Z</published>
    <updated>2019-01-22T15:39:43.217Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><img src="https://upload-images.jianshu.io/upload_images/13694807-0f27d717f0478d96.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p><a id="more"></a><h1 id="&#x524D;&#x8A00;"><a href="#&#x524D;&#x8A00;" class="headerlink" title="&#x524D;&#x8A00;"></a>&#x524D;&#x8A00;</h1><blockquote><p>&#x65E2;&#x7136;&#x8FD9;&#x662F;&#x4E00;&#x7BC7;&#x4E3B;&#x9898;&#x601D;&#x60F3;&#x4E3A;&#x4F18;&#x5316;&#x5FEB;&#x6392;&#x7684;&#x6587;&#x7AE0;&#xFF0C;&#x81EA;&#x7136;&#x5C31;&#x4E0D;&#x8BA8;&#x8BBA;&#x5173;&#x4E8E;&#x5FEB;&#x6392;&#x7684;&#x4E00;&#x4E9B;&#x5B9A;&#x4E49;&#x548C;&#x57FA;&#x7840;&#x6027;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x53EA;&#x8BF4;&#x5FEB;&#x6392;&#x5E94;&#x8BE5;&#x600E;&#x4E48;&#x4F18;&#x5316;&#x3002;</p></blockquote><p><img src="https://upload-images.jianshu.io/upload_images/13694807-d4ca97b26adf4cc2.gif?imageMogr2/auto-orient/strip" alt=""></p><h1 id="&#x5FEB;&#x6392;&#x4E3A;&#x4EC0;&#x4E48;&#x90A3;&#x4E48;&#x5FEB;&#xFF1F;"><a href="#&#x5FEB;&#x6392;&#x4E3A;&#x4EC0;&#x4E48;&#x90A3;&#x4E48;&#x5FEB;&#xFF1F;" class="headerlink" title="&#x5FEB;&#x6392;&#x4E3A;&#x4EC0;&#x4E48;&#x90A3;&#x4E48;&#x5FEB;&#xFF1F;"></a>&#x5FEB;&#x6392;&#x4E3A;&#x4EC0;&#x4E48;&#x90A3;&#x4E48;&#x5FEB;&#xFF1F;</h1><p>&#x9996;&#x5148;&#x5FEB;&#x6392;&#x7684;&#x5E73;&#x5747;&#x65F6;&#x95F4;&#x590D;&#x6742;&#x5EA6;$O(nlogn )$&#x4F18;&#x4E8E;&#x5F88;&#x591A;&#x6392;&#x5E8F;&#xFF0C;&#x4F46;&#x662F;&#x65F6;&#x95F4;&#x590D;&#x6742;&#x5EA6;&#x4E5F;&#x6709;&#x548C;&#x4ED6;&#x4E00;&#x6837;&#x7684;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x5806;&#x6392;&#x5E8F;&#xFF0C;&#x4F46;&#x4E3A;&#x4EC0;&#x4E48;&#x5B9E;&#x9645;&#x5E94;&#x7528;&#x4E2D;&#x5FEB;&#x6392;&#x8981;&#x597D;&#x4E8E;&#x5806;&#x6392;&#x5462;&#xFF1F;</p><p>&#x539F;&#x56E0;&#x4E3B;&#x8981;&#x6709;&#x4E09;&#x4E2A;&#xFF1A;</p><ul><li>&#x867D;&#x7136;&#x90FD;&#x662F;$O(nlogn )$&#x7EA7;&#x522B;&#xFF0C;&#x4F46;&#x662F;&#x65F6;&#x95F4;&#x590D;&#x6742;&#x5EA6;&#x662F;&#x8FD1;&#x4F3C;&#x5F97;&#x5230;&#x7684;&#xFF0C;&#x5FEB;&#x6392;&#x524D;&#x9762;&#x7684;&#x7CFB;&#x6570;&#x66F4;&#x5C0F;&#xFF0C;&#x6240;&#x4EE5;&#x6027;&#x80FD;&#x66F4;&#x597D;&#x4E9B;&#x3002;</li><li>&#x5806;&#x6392;&#x6BD4;&#x8F83;&#x4EA4;&#x6362;&#x6B21;&#x6570;&#x66F4;&#x591A;&#x3002;&#x56E0;&#x4E3A;&#x5FEB;&#x6392;&#x662F;&#x67A2;&#x8F74;&#xFF08;pivot&#xFF09;&#x5DE6;&#x8FB9;&#x7684;&#x5143;&#x7D20;&#x90FD;&#x6BD4;pivot&#x5C0F;&#xFF0C;&#x53F3;&#x8FB9;&#x7684;&#x5143;&#x7D20;&#x90FD;&#x66F4;&#x5927;&#xFF0C;&#x6BD4;&#x8F83;&#x4EA4;&#x6362;&#x6B21;&#x6570;&#x4F1A;&#x6BD4;&#x5806;&#x6392;&#x66F4;&#x5C11;&#x4E9B;&#x3002;</li><li>&#x7B2C;&#x4E09;&#x4E2A;&#x539F;&#x56E0;&#x4E5F;&#x662F;&#x6700;&#x4E3B;&#x8981;&#x7684;&#x539F;&#x56E0;&#xFF0C;&#x548C;CPU&#x7F13;&#x5B58;&#xFF08;cache&#xFF09;&#x6709;&#x5173;&#x3002;CPU&#x6709;&#x4E00;&#x5757;&#x9AD8;&#x901F;&#x7F13;&#x5B58;&#x533A;&#xFF08;cache&#xFF09;&#x3002;&#x5806;&#x6392;&#x5E8F;&#x8981;&#x7ECF;&#x5E38;&#x5904;&#x7406;&#x8DDD;&#x79BB;&#x5F88;&#x8FDC;&#x7684;&#x6570;&#xFF0C;&#x4E0D;&#x7B26;&#x5408;&#x5C40;&#x90E8;&#x6027;&#x539F;&#x7406;&#xFF0C;&#x4F1A;&#x5BFC;&#x81F4;cache&#x547D;&#x4E2D;&#x7387;&#x964D;&#x4F4E;&#xFF0C;&#x9891;&#x7E41;&#x8BFB;&#x5199;&#x5185;&#x5B58;&#x3002;</li></ul><h1 id="&#x5FEB;&#x6392;&#x8FD8;&#x80FD;&#x518D;&#x5FEB;&#xFF1F;"><a href="#&#x5FEB;&#x6392;&#x8FD8;&#x80FD;&#x518D;&#x5FEB;&#xFF1F;" class="headerlink" title="&#x5FEB;&#x6392;&#x8FD8;&#x80FD;&#x518D;&#x5FEB;&#xFF1F;"></a>&#x5FEB;&#x6392;&#x8FD8;&#x80FD;&#x518D;&#x5FEB;&#xFF1F;</h1><p>&#x7B54;&#x6848;&#x662F;&#x80AF;&#x5B9A;&#x7684;&#xFF0C;&#x53EF;&#x4EE5;&#x8BF4;&#x5728;&#x591A;&#x6570;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x57FA;&#x672C;&#x7684;&#x5FEB;&#x6392;&#x901F;&#x5EA6;&#x662F;&#x4F18;&#x4E8E;&#x5176;&#x4ED6;&#x6392;&#x5E8F;&#x7684;&#xFF0C;&#x4F46;&#x662F;&#x51E1;&#x4E8B;&#x90FD;&#x6709;&#x5C40;&#x9650;&#x6027;&#xFF0C;&#x5FEB;&#x901F;&#x6392;&#x5E8F;&#x5BF9;&#x4E8E;&#x6570;&#x636E;&#x4E0D;&#x5E73;&#x8861;&#x7684;&#x6570;&#x7EC4;&#xFF0C;&#x91CD;&#x590D;&#x6570;&#x7EC4;&#xFF0C;&#x5C0F;&#x6570;&#x7EC4;&#x7B49;&#x60C5;&#x51B5;&#x901F;&#x5EA6;&#x662F;&#x6BD4;&#x8F83;&#x4E0D;&#x7406;&#x60F3;&#x7684;&#xFF0C;&#x8FD9;&#x4E2A;&#x65F6;&#x5019;&#x81EA;&#x7136;&#x5C31;&#x9700;&#x8981;&#x4F18;&#x5316;&#xFF0C;&#x6765;&#x5C3D;&#x53EF;&#x80FD;&#x7684;&#x51CF;&#x5C0F;&#x5C40;&#x9650;&#x6027;&#x3002;</p><h1 id="&#x5982;&#x4F55;&#x4F18;&#x5316;"><a href="#&#x5982;&#x4F55;&#x4F18;&#x5316;" class="headerlink" title="&#x5982;&#x4F55;&#x4F18;&#x5316;"></a>&#x5982;&#x4F55;&#x4F18;&#x5316;</h1><h2 id="&#x5BF9;&#x5BFB;&#x627E;&#x67A2;&#x8F74;&#x7684;&#x65B9;&#x6CD5;&#x8FDB;&#x884C;&#x4F18;&#x5316;"><a href="#&#x5BF9;&#x5BFB;&#x627E;&#x67A2;&#x8F74;&#x7684;&#x65B9;&#x6CD5;&#x8FDB;&#x884C;&#x4F18;&#x5316;" class="headerlink" title="&#x5BF9;&#x5BFB;&#x627E;&#x67A2;&#x8F74;&#x7684;&#x65B9;&#x6CD5;&#x8FDB;&#x884C;&#x4F18;&#x5316;"></a>&#x5BF9;&#x5BFB;&#x627E;&#x67A2;&#x8F74;&#x7684;&#x65B9;&#x6CD5;&#x8FDB;&#x884C;&#x4F18;&#x5316;</h2><p>&#x6211;&#x4EEC;&#x77E5;&#x9053;&#x57FA;&#x672C;&#x7684;&#x5FEB;&#x901F;&#x6392;&#x5E8F;&#x9009;&#x53D6;&#x7B2C;&#x4E00;&#x4E2A;&#x6216;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#x4F5C;&#x4E3A;&#x67A2;&#x8F74;&#xFF0C;&#x4F46;&#x662F;&#xFF0C;&#x8FD9;&#x4E00;&#x76F4;&#x5F88;&#x4E0D;&#x597D;&#x7684;&#x5904;&#x7406;&#x65B9;&#x6CD5;&#x3002;&#x5BF9;&#x4E8E;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x4E00;&#x822C;&#x6709;&#x4E24;&#x79CD;&#x5904;&#x7406;&#x65B9;&#x6CD5;&#xFF1A;&#x968F;&#x673A;&#x9009;&#x53D6;&#x67A2;&#x8F74;&#x3001;&#x4E09;&#x6570;&#x53D6;&#x4E2D;&#xFF08;median-of-three&#xFF09;&#x3002;</p><h3 id="&#x4E09;&#x6570;&#x53D6;&#x4E2D;&#xFF1A;"><a href="#&#x4E09;&#x6570;&#x53D6;&#x4E2D;&#xFF1A;" class="headerlink" title="&#x4E09;&#x6570;&#x53D6;&#x4E2D;&#xFF1A;"></a><strong>&#x4E09;&#x6570;&#x53D6;&#x4E2D;&#xFF1A;</strong></h3><p>&#x9009;&#x4E09;&#x4E2A;&#x6570;&#xFF08;&#x6216;&#x66F4;&#x591A;&#xFF0C;&#x4E00;&#x822C;&#x4E3A;&#x5DE6;&#x4E2D;&#x53F3;&#xFF09;&#x4F5C;&#x4E3A;&#x6837;&#x672C;&#xFF0C;&#x53D6;&#x5176;&#x4E2D;&#x4F4D;&#x6570;&#x4F5C;&#x4E3A;&#x67A2;&#x8F74;&#x70B9;&#xFF0C;&#x8FD9;&#x6837;&#x5212;&#x5206;&#x53EF;&#x4EE5;&#x5C3D;&#x53EF;&#x80FD;&#x7684;&#x4F7F;&#x67A2;&#x8F74;&#x5728;&#x4E2D;&#x95F4;&#xFF0C;&#x4F7F;&#x4E24;&#x8FB9;&#x6570;&#x636E;&#x66F4;&#x5747;&#x8861;&#x3002;</p><figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*&#x51FD;&#x6570;&#x4F5C;&#x7528;&#xFF1A;&#x53D6;&#x5F85;&#x6392;&#x5E8F;&#x5E8F;&#x5217;&#x4E2D;low&#x3001;mid&#x3001;high&#x4E09;&#x4E2A;&#x4F4D;&#x7F6E;&#x4E0A;&#x6570;&#x636E;&#xFF0C;&#x9009;&#x53D6;&#x4ED6;&#x4EEC;&#x4E2D;&#x95F4;&#x7684;&#x90A3;&#x4E2A;&#x6570;&#x636E;&#x4F5C;&#x4E3A;&#x67A2;&#x8F74;*/</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">PickMiddle</span><span class="params">(<span class="keyword">int</span> arr[],<span class="keyword">int</span> low,<span class="keyword">int</span> high)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line"><span class="keyword">int</span> mid = (high+low) / <span class="number">2</span>;<span class="comment">//&#x8BA1;&#x7B97;&#x6570;&#x7EC4;&#x4E2D;&#x95F4;&#x7684;&#x5143;&#x7D20;&#x7684;&#x4E0B;&#x6807;</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">//&#x4F7F;&#x7528;&#x4E09;&#x6570;&#x53D6;&#x4E2D;&#x6CD5;&#x9009;&#x62E9;&#x67A2;&#x8F74;</span></span><br><span class="line"><span class="keyword">if</span> (arr[low] &gt; arr[high])</span><br><span class="line">sawp(arr,low,high);<span class="comment">//&#x76EE;&#x6807;: arr[low] &lt;= arr[high]</span></span><br><span class="line"><span class="keyword">if</span> (arr[mid] &gt; arr[high])</span><br><span class="line">sawp(arr,mid,high);<span class="comment">//&#x76EE;&#x6807;: arr[mid] &lt;= arr[high]</span></span><br><span class="line"><span class="comment">//&#x4EE5;&#x4E0A;&#x4E24;&#x6B65;&#x4FDD;&#x8BC1;&#x628A;&#x6700;&#x5927;&#x7684;&#x79FB;&#x5230;&#x6700;&#x53F3;&#x7AEF; </span></span><br><span class="line"><span class="keyword">if</span> (arr[mid] &gt; arr[low]) </span><br><span class="line">sawp(arr,mid,low);<span class="comment">//&#x76EE;&#x6807;: arr[low] &gt;= arr[mid]</span></span><br><span class="line"><span class="comment">//&#x6B64;&#x65F6;&#xFF0C;arr[mid] &lt;= arr[low] &lt;= arr[high]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> arr[low];</span><br><span class="line"><span class="comment">//low&#x7684;&#x4F4D;&#x7F6E;&#x4E0A;&#x4FDD;&#x5B58;&#x8FD9;&#x4E09;&#x4E2A;&#x4F4D;&#x7F6E;&#x4E2D;&#x95F4;&#x7684;&#x503C;</span></span><br><span class="line"><span class="comment">//&#x5206;&#x5272;&#x65F6;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x4F7F;&#x7528;low&#x4F4D;&#x7F6E;&#x7684;&#x5143;&#x7D20;&#x4F5C;&#x4E3A;&#x67A2;&#x8F74;&#xFF0C;&#x800C;&#x4E0D;&#x7528;&#x6539;&#x53D8;&#x5206;&#x5272;&#x51FD;&#x6570;&#x4E86;</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="&#x5C0F;&#x6570;&#x7EC4;&#x4F7F;&#x7528;&#x63D2;&#x5165;&#x6392;&#x5E8F;"><a href="#&#x5C0F;&#x6570;&#x7EC4;&#x4F7F;&#x7528;&#x63D2;&#x5165;&#x6392;&#x5E8F;" class="headerlink" title="&#x5C0F;&#x6570;&#x7EC4;&#x4F7F;&#x7528;&#x63D2;&#x5165;&#x6392;&#x5E8F;"></a>&#x5C0F;&#x6570;&#x7EC4;&#x4F7F;&#x7528;&#x63D2;&#x5165;&#x6392;&#x5E8F;</h2><p>&#x5BF9;&#x4E8E;&#x5F88;&#x5C0F;&#x548C;&#x90E8;&#x5206;&#x6709;&#x5E8F;&#x7684;&#x6570;&#x7EC4;&#xFF0C;&#x5FEB;&#x6392;&#x4E0D;&#x5982;&#x63D2;&#x6392;&#x597D;&#x3002;&#x5F53;&#x5F85;&#x6392;&#x5E8F;&#x5E8F;&#x5217;&#x5206;&#x5272;&#x5230;&#x4E00;&#x5B9A;&#x957F;&#x5EA6;&#x540E;&#xFF0C;&#x7EE7;&#x7EED;&#x5206;&#x5272;&#x7684;&#x6548;&#x7387;&#x6BD4;&#x63D2;&#x5165;&#x6392;&#x5E8F;&#x8981;&#x5DEE;&#xFF0C;&#x6B64;&#x65F6;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x63D2;&#x6392;&#x800C;&#x4E0D;&#x662F;&#x5FEB;&#x6392;&#x3002;</p><figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(high-low &lt; <span class="number">7</span>)</span><br><span class="line">{</span><br><span class="line">InsertSort(L);<span class="comment">//&#x8FDB;&#x884C;&#x63D2;&#x5165;&#x6392;&#x5E8F;</span></span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">}<span class="comment">//else&#x8FDB;&#x884C;&#x6B63;&#x5E38;&#x7684;&#x5FEB;&#x6392;</span></span><br></pre></td></tr></tbody></table></figure><h2 id="&#x4E09;&#x5411;&#x5207;&#x5206;&#x601D;&#x60F3;"><a href="#&#x4E09;&#x5411;&#x5207;&#x5206;&#x601D;&#x60F3;" class="headerlink" title="&#x4E09;&#x5411;&#x5207;&#x5206;&#x601D;&#x60F3;"></a>&#x4E09;&#x5411;&#x5207;&#x5206;&#x601D;&#x60F3;</h2><p>&#x5FEB;&#x901F;&#x6392;&#x5E8F;&#x5BF9;&#x4E8E;&#x5143;&#x7D20;&#x91CD;&#x590D;&#x7387;&#x7279;&#x522B;&#x9AD8;&#x7684;&#x6570;&#x7EC4;&#xFF0C;&#x6548;&#x7387;&#x663E;&#x5F97;&#x975E;&#x5E38;&#x4F4E;&#x4E0B;&#x3002;&#x4E3E;&#x4E2A;&#x4F8B;&#x5B50;&#xFF0C;&#x5047;&#x5982;&#x5728;&#x6392;&#x5E8F;&#x8FC7;&#x7A0B;&#x4E2D;&#x4E00;&#x4E2A;&#x5B50;&#x6570;&#x7EC4;&#x5DF2;&#x5168;&#x90E8;&#x4E3A;&#x91CD;&#x590D;&#x5143;&#x7D20;&#xFF0C;&#x5219;&#x5BF9;&#x4E8E;&#x6B64;&#x6570;&#x7EC4;&#x6392;&#x5E8F;&#x5C31;&#x5E94;&#x8BE5;&#x505C;&#x6B62;&#x4E86;&#xFF0C;&#x4F46;&#x5FEB;&#x6392;&#x7B97;&#x6CD5;&#x4F9D;&#x7136;&#x4F1A;&#x5C06;&#x5176;&#x5207;&#x5206;&#x4E3A;&#x66F4;&#x5C0F;&#x7684;&#x6570;&#x7EC4;&#x3002;</p><p>&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x6539;&#x8FDB;&#x60F3;&#x6CD5;&#x5C31;&#x662F;&#x5C06;&#x6570;&#x7EC4;&#x5206;&#x4E3A;&#x4E09;&#x90E8;&#x5206;&#xFF1A;&#x5C0F;&#x4E8E;&#x5F53;&#x524D;&#x5207;&#x5206;&#x5143;&#x7D20;&#x7684;&#x90E8;&#x5206;&#xFF0C;&#x7B49;&#x4E8E;&#x5F53;&#x524D;&#x5207;&#x5206;&#x5143;&#x7D20;&#x7684;&#x90E8;&#x5206;&#xFF0C;&#x5927;&#x4E8E;&#x5F53;&#x524D;&#x5207;&#x5206;&#x5143;&#x7D20;&#x7684;&#x90E8;&#x5206;&#x3002;&#x7528;&#x4E00;&#x5F20;&#x56FE;&#x8BF4;&#x660E;&#x5C31;&#x662F;&#x8FD9;&#x6837;&#xFF1A;</p><p><img src="https://upload-images.jianshu.io/upload_images/13694807-4dc5ecdd310c7055.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p><ul><li>$lt$&#x4F7F;&#x5F97;&#x5143;&#x7D20;$&#xFF08;arr[lo]-arr[lt-1]&#xFF09;$&#x7684;&#x503C;&#x5747;&#x5C0F;&#x4E8E;&#x5207;&#x5206;&#x5143;&#x7D20;&#xFF1B;</li><li>$gt$&#x4F7F;&#x5F97;&#x5143;&#x7D20;$&#xFF08;arr[gt+1]-arr[hi]&#xFF09;$&#x7684;&#x503C;&#x5747;&#x5927;&#x4E8E;&#x5207;&#x5206;&#x5143;&#x7D20;&#xFF1B;</li><li>$i$&#x4F7F;&#x5F97;&#x5143;&#x7D20;$&#xFF08;arr[lt]-arr[i-1]&#xFF09;$&#x7684;&#x503C;&#x5747;&#x7B49;&#x4E8E;&#x5207;&#x5206;&#x5143;&#x7D20;&#xFF0C;$&#xFF08;arr[i]-arr[gt]&#xFF09;$&#x7684;&#x5143;&#x7D20;&#x8FD8;&#x6CA1;&#x88AB;&#x626B;&#x63CF;&#xFF0C;&#x5207;&#x5206;&#x7B97;&#x6CD5;&#x6267;&#x884C;&#x5230;$i&gt;gt$&#x4E3A;&#x6B62;&#x3002;</li></ul><figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">QSort</span><span class="params">(<span class="keyword">int</span> arr[],<span class="keyword">int</span> low,<span class="keyword">int</span> high)</span></span></span><br><span class="line"><span class="function"></span>{  </span><br><span class="line">    <span class="keyword">if</span>(low &lt; high)</span><br><span class="line">    {  </span><br><span class="line">        <span class="keyword">int</span> lt = low;<span class="comment">//low&#x4E3A;&#x67A2;&#x8F74;&#x4F4D;&#x7F6E;</span></span><br><span class="line">        <span class="keyword">int</span> gt = high;</span><br><span class="line">        <span class="keyword">int</span> i=low+<span class="number">1</span>; <span class="comment">//low&#x4F4D;&#x7F6E;&#x7684;&#x5143;&#x7D20;&#x4E3A;&#x67A2;&#x8F74;&#x5143;&#x7D20;&#xFF0C;&#x6240;&#x4EE5;&#x7528;&#x4E8E;&#x6BD4;&#x8F83;&#x7684;&#x5143;&#x7D20;&#x4ECE;low+1&#x5F00;&#x59CB;</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> temp = arr[low]; <span class="comment">//&#x5C06;&#x67A2;&#x8F74;&#x7684;&#x5143;&#x7D20;&#x50A8;&#x5B58;&#x5230;temp&#x4E2D;</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span>(i &lt;= gt)</span><br><span class="line">        {  </span><br><span class="line">            <span class="keyword">if</span>(arr[i] &lt; temp) <span class="comment">//&#x5C0F;&#x4E8E;&#x67A2;&#x8F74;&#x5143;&#x7D20;&#x7684;&#x653E;&#x5728;lt&#x5DE6;&#x8FB9; </span></span><br><span class="line">                sawp(arr,lt++,i++);  <span class="comment">//&#x5373;&#x4EA4;&#x6362;lt&#x548C;i&#x4F4D;&#x7F6E;&#x7684;&#x5143;&#x7D20;&#xFF0C;&#x6B64;&#x65F6;&#x67A2;&#x7EBD;&#x4F4D;&#x7F6E;(lt)&#x53F3;&#x79FB;&#x4E00;&#x4F4D;&#xFF0C;i&#x4E5F;&#x56E0;&#x6B64;&#x53F3;&#x79FB;</span></span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(arr[i] &gt; temp)  <span class="comment">//&#x5927;&#x4E8E;&#x67A2;&#x8F74;&#x5143;&#x7D20;&#x7684;&#x653E;&#x5728;gt&#x53F3;&#x8FB9; </span></span><br><span class="line">                sawp(arr,i,gt--);  <span class="comment">//&#x4EA4;&#x6362;i&#x548C;gt&#x4F4D;&#x7F6E;&#x7684;&#x5143;&#x7D20;&#xFF0C;gt&#x9700;&#x8981;&#x5DE6;&#x79FB;&#xFF0C;i&#x7531;&#x4E8E;&#x53D8;&#x4E3A;gt&#x4F4D;&#x7F6E;&#x5143;&#x7D20;&#xFF0C;&#x6240;&#x4EE5;&#x4E0D;&#x9700;&#x8981;&#x79FB;&#x52A8;</span></span><br><span class="line">            <span class="keyword">else</span> <span class="comment">//&#x76F8;&#x7B49;&#x65F6;&#xFF0C;&#x65E0;&#x9700;&#x4EA4;&#x6362;&#xFF0C;&#x53EA;&#x9700;&#x628A;i&#x53F3;&#x79FB;&#x4E00;&#x4F4D;</span></span><br><span class="line">                i++; </span><br><span class="line">        }  </span><br><span class="line">        <span class="comment">//lt-gt&#x7684;&#x5143;&#x7D20;&#x5DF2;&#x7ECF;&#x6392;&#x5B9A;&#xFF0C;&#x53EA;&#x9700;&#x5BF9;it&#x5DE6;&#x8FB9;&#x548C;gt&#x53F3;&#x8FB9;&#x7684;&#x5143;&#x7D20;&#x8FDB;&#x884C;&#x9012;&#x5F52;&#x6C42;&#x89E3;</span></span><br><span class="line">        QSort(arr,low,lt<span class="number">-1</span>);  </span><br><span class="line">        QSort(arr,gt+<span class="number">1</span>,high);  </span><br><span class="line">    }   </span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="&#x9012;&#x5F52;&#x4F18;&#x5316;"><a href="#&#x9012;&#x5F52;&#x4F18;&#x5316;" class="headerlink" title="&#x9012;&#x5F52;&#x4F18;&#x5316;"></a>&#x9012;&#x5F52;&#x4F18;&#x5316;</h2><p>&#x6211;&#x4EEC;&#x77E5;&#x9053;&#x5FEB;&#x6392;&#x662F;&#x4E00;&#x4E2A;&#x9012;&#x5F52;&#x7B97;&#x6CD5;&#xFF0C;&#x800C;&#x9012;&#x5F52;&#x7684;&#x95EE;&#x9898;&#x662F;&#x5982;&#x679C;&#x9012;&#x5F52;&#x592A;&#x6DF1;&#x5BB9;&#x6613;&#x6808;&#x6EA2;&#x51FA;&#x3002;&#x6240;&#x4EE5;&#x9488;&#x5BF9;&#x5FEB;&#x6392;&#x7684;&#x4F18;&#x5316;&#xFF0C;&#x8FD8;&#x6709;&#x4E00;&#x4E2A;&#x89D2;&#x5EA6;&#x662F;&#x5BF9;&#x9012;&#x5F52;&#x7684;&#x4F18;&#x5316;&#x3002;&#x7F51;&#x4E0A;&#x5F88;&#x591A;&#x6587;&#x7AE0;&#x4E2D;&#x90FD;&#x63D0;&#x5230;&#x4E00;&#x4E2A;&#x53EB;&#x505A;&#x5C3E;&#x9012;&#x5F52;&#x4F18;&#x5316;&#x7684;&#x4E1C;&#x897F;&#x3002;</p><p>&#x4E3A;&#x4E86;&#x66F4;&#x597D;&#x7684;&#x7406;&#x89E3;&#xFF0C;&#x5F97;&#x5148;&#x4E86;&#x89E3;&#x4E86;&#x4E00;&#x4E0B;&#x4EC0;&#x4E48;&#x53EB;&#x5C3E;&#x9012;&#x5F52;&#x3002;</p><h3 id="&#x5C3E;&#x9012;&#x5F52;"><a href="#&#x5C3E;&#x9012;&#x5F52;" class="headerlink" title="&#x5C3E;&#x9012;&#x5F52;"></a>&#x5C3E;&#x9012;&#x5F52;</h3><p>&#x5982;&#x679C;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#x4E2D;&#x6240;&#x6709;&#x9012;&#x5F52;&#x5F62;&#x5F0F;&#x7684;&#x8C03;&#x7528;&#x90FD;&#x51FA;&#x73B0;&#x5728;&#x51FD;&#x6570;&#x7684;&#x672B;&#x5C3E;&#xFF0C;&#x6211;&#x4EEC;&#x79F0;&#x8FD9;&#x4E2A;&#x9012;&#x5F52;&#x51FD;&#x6570;&#x662F;&#x5C3E;&#x9012;&#x5F52;&#x7684;&#x3002;&#x5F53;&#x9012;&#x5F52;&#x8C03;&#x7528;&#x662F;&#x6574;&#x4E2A;&#x51FD;&#x6570;&#x4F53;&#x4E2D;&#x6700;&#x540E;&#x6267;&#x884C;&#x7684;&#x8BED;&#x53E5;&#x4E14;&#x5B83;&#x7684;&#x8FD4;&#x56DE;&#x503C;&#x4E0D;&#x5C5E;&#x4E8E;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x4E00;&#x90E8;&#x5206;&#x65F6;&#xFF0C;&#x8FD9;&#x4E2A;&#x9012;&#x5F52;&#x8C03;&#x7528;&#x5C31;&#x662F;&#x5C3E;&#x9012;&#x5F52;&#x3002;&#x5C3E;&#x9012;&#x5F52;&#x51FD;&#x6570;&#x7684;&#x7279;&#x70B9;&#x662F;&#x5728;&#x56DE;&#x5F52;&#x8FC7;&#x7A0B;&#x4E2D;&#x4E0D;&#x7528;&#x505A;&#x4EFB;&#x4F55;&#x64CD;&#x4F5C;&#xFF0C;&#x8FD9;&#x4E2A;&#x7279;&#x6027;&#x5F88;&#x91CD;&#x8981;&#xFF0C;&#x56E0;&#x4E3A;&#x5927;&#x591A;&#x6570;&#x73B0;&#x4EE3;&#x7684;&#x7F16;&#x8BD1;&#x5668;&#x4F1A;&#x5229;&#x7528;&#x8FD9;&#x79CD;&#x7279;&#x70B9;&#x81EA;&#x52A8;&#x751F;&#x6210;&#x4F18;&#x5316;&#x7684;&#x4EE3;&#x7801;&#x3002;</p><p>&#x5177;&#x4F53;&#x7528;&#x6CD5;&#x770B;&#x8FD9;&#x7BC7;&#x6587;&#x7AE0;&#x5427;&#xFF0C;&#x6211;&#x5C31;&#x4E0D;&#x590D;&#x8FF0;&#x4E86;&#x3002;<br><a href="https://link.jianshu.com/?t=http://www.ruanyifeng.com/blog/2015/04/tail-call.html" target="_blank" rel="noopener">&#x5C3E;&#x8C03;&#x7528;&#x4F18;&#x5316; - &#x962E;&#x4E00;&#x5CF0;&#x7684;&#x7F51;&#x7EDC;&#x65E5;&#x5FD7;</a></p><h3 id="&#x6240;&#x8C13;&#x7684;&#x201C;&#x5FEB;&#x6392;&#x5C3E;&#x9012;&#x5F52;&#x4F18;&#x5316;&#x201D;&#x771F;&#x7684;&#x662F;&#x5C3E;&#x9012;&#x5F52;&#x4F18;&#x5316;&#x5417;&#xFF1F;"><a href="#&#x6240;&#x8C13;&#x7684;&#x201C;&#x5FEB;&#x6392;&#x5C3E;&#x9012;&#x5F52;&#x4F18;&#x5316;&#x201D;&#x771F;&#x7684;&#x662F;&#x5C3E;&#x9012;&#x5F52;&#x4F18;&#x5316;&#x5417;&#xFF1F;" class="headerlink" title="&#x6240;&#x8C13;&#x7684;&#x201C;&#x5FEB;&#x6392;&#x5C3E;&#x9012;&#x5F52;&#x4F18;&#x5316;&#x201D;&#x771F;&#x7684;&#x662F;&#x5C3E;&#x9012;&#x5F52;&#x4F18;&#x5316;&#x5417;&#xFF1F;"></a>&#x6240;&#x8C13;&#x7684;&#x201C;&#x5FEB;&#x6392;&#x5C3E;&#x9012;&#x5F52;&#x4F18;&#x5316;&#x201D;&#x771F;&#x7684;&#x662F;&#x5C3E;&#x9012;&#x5F52;&#x4F18;&#x5316;&#x5417;&#xFF1F;</h3><p>&#x4E86;&#x89E3;&#x5B8C;&#x5C3E;&#x9012;&#x5F52;&#x540E;&#xFF0C;&#x518D;&#x6765;&#x770B;&#x770B;&#x7F51;&#x4E0A;&#x6D41;&#x884C;&#x7684;&#x5FEB;&#x6392;&#x5C3E;&#x9012;&#x5F52;&#x4F18;&#x5316;&#x65B9;&#x6CD5;&#x3002;</p><p>&#x5173;&#x952E;&#x4EE3;&#x7801;&#x5982;&#x4E0B;</p><figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">QSort</span><span class="params">(<span class="keyword">int</span> arr[],<span class="keyword">int</span> low,<span class="keyword">int</span> high)</span>  </span></span><br><span class="line"><span class="function"></span>{  </span><br><span class="line">    <span class="keyword">int</span> pivot;  <span class="comment">//&#x67A2;&#x8F74;</span></span><br><span class="line">    <span class="keyword">while</span>(low&lt;high)<span class="comment">//&#x76F4;&#x5230;&#x628A;&#x53F3;&#x534A;&#x8FB9;&#x6570;&#x7EC4;&#x5212;&#x5206;&#x6210;&#x6700;&#x591A;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#x4E3A;&#x6B62;&#xFF0C;&#x5C31;&#x6392;&#x5B8C;&#x4E86;&#xFF01;</span></span><br><span class="line">    {  </span><br><span class="line">        pivot=Partition(arr,low,high);  </span><br><span class="line">        QSort(arr,low,pivot<span class="number">-1</span>);  <span class="comment">//&#x5BF9;&#x4F4E;&#x5B50;&#x8868;&#x9012;&#x5F52;&#x6392;&#x5E8F;</span></span><br><span class="line">        low=pivot+<span class="number">1</span>;  </span><br><span class="line">    }  </span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>&#x9996;&#x5148;&#x4E0A;&#x9762;&#x4EE3;&#x7801;&#x4E2D;&#x9012;&#x5F52;&#x8C03;&#x7528;&#x5E76;&#x4E0D;&#x662F;&#x6700;&#x540E;&#x4E00;&#x6B65;&#xFF0C;&#x751A;&#x81F3;&#x6700;&#x540E;&#x4E00;&#x884C;&#x90FD;&#x4E0D;&#x662F;&#xFF0C;&#x548C;&#x6211;&#x4EEC;&#x4E0A;&#x9762;&#x770B;&#x5230;&#x7684;&#x5C3E;&#x9012;&#x5F52;&#x7684;&#x5B9A;&#x4E49;&#x4E0D;&#x592A;&#x4E00;&#x6837;&#xFF0C;&#x6211;&#x67E5;&#x9605;&#x4E86;&#x7F51;&#x4E0A;&#x5F88;&#x591A;&#x8D44;&#x6599;&#xFF0C;&#x5176;&#x4E2D;&#x7B97;&#x6CD5;&#x5BFC;&#x8BBA;&#x4E2D;7-4&#x7AE0;&#x4E5F;&#x63D0;&#x5230;&#x4E86;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x3002;</p><p>&#x7B97;&#x6CD5;&#x5BFC;&#x8BBA;&#x4E2D;&#x7684;&#x9898;&#x76EE;&#xFF1A;</p><p>&#x4E2D;&#x6587;&#x7248;&#x672C;&#xFF1A;</p><p><img src="https://upload-images.jianshu.io/upload_images/13694807-15234d9f7bf5dd2b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p><p>&#x539F;&#x4E66;&#x4E2D;&#x7684;&#x95EE;&#x9898;&#x662F;&#x8FD9;&#x6837;&#x7684;&#xFF1A;</p><blockquote><p>The QUICKSORT algorithm of Section 7.1 contains two recursive calls to itself. After the call to PARTITION, the left subarray is recursively sorted and then the right subarray is recursively sorted. The second recursive call in QUICKSORT is not really necessary; it can be avoided by using an iterative control structure. This technique, called tail recursion, is provided automatically by good compilers. Consider the following version of quicksort, which simulates tail recursion.</p></blockquote><p>&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x4E5F;&#x63D0;&#x5230;&#x5C3E;&#x9012;&#x5F52;&#x6280;&#x672F;&#xFF0C;&#x4F46;&#x5728;&#x540E;&#x7EED;&#x7684;&#x63CF;&#x8FF0;&#x4E2D;&#x66F4;&#x50CF;&#x662F;&#x63CF;&#x8FF0;&#x5C3E;&#x9012;&#x5F52;&#x7684;&#x601D;&#x60F3;&#xFF0C;which simulates tail recursion&#x8FD9;&#x662F;&#x4E66;&#x4E2D;&#x7684;&#x539F;&#x8BDD;&#xFF0C;&#x610F;&#x601D;&#x4E5F;&#x5F88;&#x660E;&#x663E;&#xFF0C;&#x5C31;&#x662F;&#x6A21;&#x62DF;&#x5C3E;&#x9012;&#x5F52;&#x6280;&#x672F;&#xFF0C;&#x800C;&#x975E;&#x771F;&#x6B63;&#x7684;&#x5C3E;&#x9012;&#x5F52;&#x3002;</p><p><strong>&#x90A3;&#x4E48;&#x7528;&#x8FD9;&#x6837;&#x7684;&#x65B9;&#x5F0F;&#x5230;&#x5E95;&#x80FD;&#x4E0D;&#x80FD;&#x964D;&#x4F4E;&#x9012;&#x5F52;&#x6DF1;&#x5EA6;&#x5462;&#xFF1F;</strong></p><p>&#x7B54;&#x6848;&#x662F;&#x80FD;&#xFF0C;&#x4E0D;&#x59A8;&#x6765;&#x753B;&#x4E00;&#x4E0B;&#x8FD9;&#x4E24;&#x79CD;&#x65B9;&#x6CD5;&#x7684;&#x9012;&#x5F52;&#x6811;&#xFF1A;</p><p>&#x9996;&#x5148;&#x8BBE;&#x7F6E;&#x6A21;&#x62DF;&#x6570;&#x7EC4;&#x4E3A;&#xFF08;1,2,3,4,5,6,7,8,9,10,11&#xFF09;&#xFF0C;&#x67A2;&#x8F74;&#x9009;&#x53D6;&#x91C7;&#x7528;&#x4E09;&#x6570;&#x53D6;&#x4E2D;&#x65B9;&#x5F0F;</p><p>&#x666E;&#x901A;&#x53CC;&#x9012;&#x5F52;&#x7684;&#x9012;&#x5F52;&#x6811;&#x4E3A;&#xFF1A;</p><p><img src="https://upload-images.jianshu.io/upload_images/13694807-8085b85ad16e2ff5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p><p>&#x800C;&#x5982;&#x679C;&#x91C7;&#x7528;&#x6A21;&#x62DF;&#x5C3E;&#x9012;&#x5F52;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x7531;&#x4E8E;&#x53BB;&#x6389;&#x4E86;&#x9AD8;&#x5B50;&#x8868;&#x7684;&#x9012;&#x5F52;&#xFF0C;&#x800C;&#x91C7;&#x7528;&#x76F4;&#x63A5;&#x8C03;&#x7528;&#x5FEB;&#x6392;&#x5904;&#x7406;&#x51FD;&#x6570;&#xFF1B;&#x4E0D;&#x96BE;&#x53D1;&#x73B0;&#x5176;&#x5B9E;&#x672C;&#x8D28;&#x662F;&#x76F8;&#x5F53;&#x4E8E;&#x628A;&#x53F3;&#x8282;&#x70B9;&#x64E6;&#x6389;&#xFF0C;&#x628A;&#x53F3;&#x8282;&#x70B9;&#x7684;&#x5B50;&#x8282;&#x70B9;&#x76F4;&#x63A5;&#x8FDE;&#x63A5;&#x5230;&#x5F53;&#x524D;&#x8282;&#x70B9;&#x3002;&#x8FD9;&#x6837;&#x53F3;&#x8FB9;&#x7684;&#x53F6;&#x6DF1;&#x5EA6;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x6700;&#x5927;&#x6808;&#x6DF1;&#x5EA6;&#x5C31;&#x4E0B;&#x964D;&#x4E86;&#x3002;&#x8FD9;&#x4E2A;&#x662F;&#x4E0D;&#x9700;&#x8981;&#x4F9D;&#x8D56;&#x7F16;&#x8BD1;&#x5668;&#x4F18;&#x5316;&#x7684;&#x3002;</p><p><img src="https://upload-images.jianshu.io/upload_images/13694807-29b53842468555cd.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="&#x9012;&#x5F52;&#x6811;2.png"></p><p><img src="https://upload-images.jianshu.io/upload_images/13694807-6b4e64f5ba39c42e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="&#x9012;&#x5F52;&#x6811;3.png"></p><p>&#x4E0D;&#x8FC7;&#x8FD9;&#x79CD;&#x4F18;&#x5316;&#x6211;&#x89C9;&#x5F97;&#x6CA1;&#x4EC0;&#x4E48;&#x5FC5;&#x8981;&#xFF0C;&#x6BD5;&#x7ADF;&#x8FD9;&#x53EA;&#x662F;&#x628A;&#x9012;&#x5F52;&#x7B97;&#x6CD5;&#x8F6C;&#x5316;&#x4E3A;&#x4E86;&#x8FED;&#x4EE3;&#x7B97;&#x6CD5;&#xFF0C;&#x800C;&#x6240;&#x6709;&#x7684;&#x9012;&#x5F52;&#x90FD;&#x53EF;&#x4EE5;&#x8F6C;&#x5316;&#x4E3A;&#x8FED;&#x4EE3;&#xFF0C;&#x4E3A;&#x4F55;&#x53C8;&#x4E0D;&#x628A;&#x53E6;&#x4E00;&#x4E2A;&#x9012;&#x5F52;&#x5199;&#x6210;&#x8FED;&#x4EE3;&#x5462;&#xFF1B;&#x66F4;&#x4F55;&#x51B5;&#x7ECF;&#x8FC7;&#x4F18;&#x5316;&#x540E;&#x5FEB;&#x6392;&#x7684;&#x5E73;&#x5747;&#x9012;&#x5F52;&#x6DF1;&#x5EA6;&#x57FA;&#x672C;&#x4E3A;$logn$&#xFF0C;&#x867D;&#x7136;&#x53EF;&#x80FD;&#x4E3A;n&#xFF0C;&#x4F46;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x5728;&#x4F7F;&#x7528;&#x4E86;&#x5404;&#x79CD;&#x4F18;&#x5316;&#x540E;&#xFF0C;&#x51E0;&#x4E4E;&#x4E0D;&#x53EF;&#x80FD;&#x51FA;&#x73B0;&#x4E86;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x89C9;&#x5F97;&#x4F18;&#x5316;&#x7B97;&#x6CD5;&#xFF0C;&#x6700;&#x91CD;&#x8981;&#x7684;&#x5E94;&#x8BE5;&#x662F;&#x7ED3;&#x5408;&#x5177;&#x4F53;&#x60C5;&#x51B5;&#x5BF9;&#x7B97;&#x6CD5;&#x672C;&#x8EAB;&#x4F18;&#x5316;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x7C97;&#x66B4;&#x7684;&#x628A;&#x9012;&#x5F52;&#x6539;&#x6210;&#x975E;&#x9012;&#x5F52;&#x3002;</p><p>&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;</p><p><a href="https://www.jianshu.com/p/6777a3297e36" target="_blank" rel="noopener">&#x5FEB;&#x901F;&#x6392;&#x5E8F;&#x7684;&#x4F18;&#x5316; &#x548C;&#x5173;&#x4E8E;&#x9012;&#x5F52;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x8BF4;&#x8BF4;&#x6211;&#x7684;&#x60F3;&#x6CD5;</a></p><p><a href="https://blog.csdn.net/insistGoGo/article/details/7785038" target="_blank" rel="noopener">&#x4E09;&#x79CD;&#x5FEB;&#x901F;&#x6392;&#x5E8F;&#x4EE5;&#x53CA;&#x5FEB;&#x901F;&#x6392;&#x5E8F;&#x7684;&#x4F18;&#x5316;</a></p><p><a href="http://blog.51cto.com/nxlhero/1112835" target="_blank" rel="noopener">Erlang&#x5B66;&#x4E60;&#xFF1A;&#x5FEB;&#x901F;&#x6392;&#x5E8F;&#x548C;&#x5C3E;&#x9012;&#x5F52;</a></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;https://upload-images.jianshu.io/upload_images/13694807-0f27d717f0478d96.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="C" scheme="https://perkyrookie.github.io/tags/C/"/>
    
      <category term="排序算法" scheme="https://perkyrookie.github.io/tags/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>数据结构：归并排序（非递归）</title>
    <link href="https://perkyrookie.github.io/PerkyRookie/1fb40a9d/"/>
    <id>https://perkyrookie.github.io/PerkyRookie/1fb40a9d/</id>
    <published>2018-12-29T06:17:05.000Z</published>
    <updated>2019-01-22T15:20:46.959Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><img src="https://upload-images.jianshu.io/upload_images/13694807-668f8c47092ad75c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p><a id="more"></a><h1 id="&#x524D;&#x8A00;"><a href="#&#x524D;&#x8A00;" class="headerlink" title="&#x524D;&#x8A00;"></a>&#x524D;&#x8A00;</h1><blockquote><p><strong>&#x5F52;&#x5E76;&#x6392;&#x5E8F;</strong>&#xFF0C;&#x662F;&#x521B;&#x5EFA;&#x5728;&#x5F52;&#x5E76;&#x64CD;&#x4F5C;&#x4E0A;&#x7684;&#x4E00;&#x79CD;&#x6709;&#x6548;&#x7684;&#x6392;&#x5E8F;&#x7B97;&#x6CD5;&#xFF0C;&#x6548;&#x7387;&#x4E3A;$O(nlogn)$&#x3002;1945&#x5E74;&#x7531;&#x7EA6;&#x7FF0;&#xB7;&#x51AF;&#xB7;&#x8BFA;&#x4F0A;&#x66FC;&#x9996;&#x6B21;&#x63D0;&#x51FA;&#x3002;&#x8BE5;&#x7B97;&#x6CD5;&#x662F;&#x91C7;&#x7528;&#x5206;&#x6CBB;&#x6CD5;&#x7684;&#x4E00;&#x4E2A;&#x975E;&#x5E38;&#x5178;&#x578B;&#x7684;&#x5E94;&#x7528;&#xFF0C;&#x4E14;&#x5404;&#x5C42;&#x5206;&#x6CBB;&#x9012;&#x5F52;&#x53EF;&#x4EE5;&#x540C;&#x65F6;&#x8FDB;&#x884C;&#x3002;(&#x5F15;&#x81EA;&#x7EF4;&#x57FA;&#x767E;&#x79D1;)</p></blockquote><h1 id="&#x539F;&#x7406;"><a href="#&#x539F;&#x7406;" class="headerlink" title="&#x539F;&#x7406;"></a>&#x539F;&#x7406;</h1><div id="dplayer0" class="dplayer hexo-tag-dplayer-mark" style="margin-bottom: 20px;"></div><script>(function(){var player = new DPlayer({"container":document.getElementById("dplayer0"),"theme":"#FADFA3","video":{"url":"/resources/video/归并排序.mp4","pic":"https://upload-images.jianshu.io/upload_images/13694807-2c22b9a97e747736.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"}});window.dplayers||(window.dplayers=[]);window.dplayers.push(player);})()</script><p>&#x4EE5;&#x4E0A;&#x89C6;&#x9891;&#x8F6C;&#x81EA;<a href="https://www.youtube.com/watch?v=JSceec-wEyw" target="_blank" rel="noopener">https://www.youtube.com/watch?v=JSceec-wEyw</a></p><p>&#x7528;&#x4E00;&#x5F20;&#x56FE;&#x7247;&#x7B80;&#x5355;&#x6765;&#x8BF4;&#x5C31;&#x662F;&#x8FD9;&#x6837;</p><p><img src="http://upload-images.jianshu.io/upload_images/13694807-5fc03fbd4278fd31.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p><h1 id="&#x793A;&#x4F8B;&#x4EE3;&#x7801;&#xFF08;&#x975E;&#x9012;&#x5F52;&#xFF09;"><a href="#&#x793A;&#x4F8B;&#x4EE3;&#x7801;&#xFF08;&#x975E;&#x9012;&#x5F52;&#xFF09;" class="headerlink" title="&#x793A;&#x4F8B;&#x4EE3;&#x7801;&#xFF08;&#x975E;&#x9012;&#x5F52;&#xFF09;"></a>&#x793A;&#x4F8B;&#x4EE3;&#x7801;&#xFF08;&#x975E;&#x9012;&#x5F52;&#xFF09;</h1><figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXSIZE 100<span class="comment">//&#x7528;&#x4E8E;&#x8981;&#x6392;&#x5E8F;&#x6570;&#x7EC4;&#x7684;&#x6700;&#x5927;&#x503C; </span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span>//&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x987A;&#x5E8F;&#x8868;&#x7ED3;&#x6784; </span></span><br><span class="line"><span class="class">{</span></span><br><span class="line"><span class="keyword">int</span> r[MAXSIZE+<span class="number">1</span>];<span class="comment">//&#x7528;&#x4E8E;&#x5B58;&#x50A8;&#x8981;&#x6392;&#x5E8F;&#x6570;&#x7EC4;&#xFF0C;r[0]&#x7528;&#x4F5C;&#x54E8;&#x5175;&#x6216;&#x8005;&#x4E34;&#x65F6;&#x53D8;&#x91CF; </span></span><br><span class="line"><span class="keyword">int</span> length;<span class="comment">//&#x7528;&#x4E8E;&#x5B58;&#x50A8;&#x987A;&#x5E8F;&#x8868;&#x7684;&#x6700;&#x5927;&#x957F;&#x5EA6; </span></span><br><span class="line">}SqList;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Merge</span><span class="params">(<span class="keyword">int</span> *S, <span class="keyword">int</span> *T, <span class="keyword">int</span> low, <span class="keyword">int</span> m, <span class="keyword">int</span> high)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">MergePass</span><span class="params">(<span class="keyword">int</span> *S, <span class="keyword">int</span> *T, <span class="keyword">int</span> s, <span class="keyword">int</span> length)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">MergeSort</span><span class="params">(SqList *L)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line"><span class="keyword">int</span> i;</span><br><span class="line">    <span class="keyword">int</span> <span class="built_in">array</span>[] = {<span class="number">39</span>,<span class="number">80</span>,<span class="number">76</span>,<span class="number">41</span>,<span class="number">13</span>,<span class="number">29</span>,<span class="number">50</span>,<span class="number">78</span>,<span class="number">30</span>,<span class="number">11</span>,<span class="number">100</span>,<span class="number">7</span>,<span class="number">41</span>,<span class="number">86</span>};</span><br><span class="line">    SqList L;</span><br><span class="line">    L.length = <span class="keyword">sizeof</span>(<span class="built_in">array</span>)/<span class="keyword">sizeof</span>(<span class="built_in">array</span>[<span class="number">0</span>]);<span class="comment">//&#x83B7;&#x53D6;&#x6570;&#x7EC4;&#x957F;&#x5EA6; </span></span><br><span class="line"> </span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;L.length;i++)</span><br><span class="line">L.r[i+<span class="number">1</span>]=<span class="built_in">array</span>[i];<span class="comment">//&#x628A;&#x6570;&#x7EC4;&#x5B58;&#x5165;&#x987A;&#x5E8F;&#x8868;&#x7ED3;&#x6784; </span></span><br><span class="line"></span><br><span class="line">MergeSort(&amp;L);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;L.length;i++)<span class="comment">//&#x8F93;&#x51FA;&#x6392;&#x5E8F;&#x540E;&#x7684;&#x6570;&#x7EC4; </span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>,L.r[i+<span class="number">1</span>]);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">MergeSort</span><span class="params">(SqList *L)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="comment">//&#x7533;&#x8BF7;&#x989D;&#x5916;&#x7684;&#x7A7A;&#x95F4;&#xFF0C;&#x7531;&#x4E8E;r[0]&#x4E3A;&#x54E8;&#x5175;&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x91CC;&#x957F;&#x5EA6;&#x8981;+1</span></span><br><span class="line"><span class="keyword">int</span>* TR = (<span class="keyword">int</span> *)<span class="built_in">malloc</span>((L-&gt;length+<span class="number">1</span>)*<span class="keyword">sizeof</span>(<span class="keyword">int</span>));</span><br><span class="line"><span class="keyword">int</span> k = <span class="number">1</span>;<span class="comment">/*k&#x7528;&#x6765;&#x8868;&#x793A;&#x6BCF;&#x6B21;k&#x4E2A;&#x5143;&#x7D20;&#x5F52;&#x5E76;*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> (k &lt; L-&gt;length)</span><br><span class="line">{</span><br><span class="line"><span class="comment">//k&#x6BCF;&#x6B21;&#x4E58;&#x4EE5;2&#x662F;&#x9075;&#x5FAA;1-&gt;2-&gt;4-&gt;8-&gt;16...&#x7684;&#x4E8C;&#x8DEF;&#x5F52;&#x5E76;&#x5143;&#x7D20;&#x4E2A;&#x6570;&#x7684;&#x539F;&#x5219;</span></span><br><span class="line">MergePass(L-&gt;r, TR, k, L-&gt;length);<span class="comment">/*&#x5148;&#x501F;&#x52A9;&#x8F85;&#x52A9;&#x7A7A;&#x95F4;&#x5F52;&#x5E76;*/</span></span><br><span class="line">k *= <span class="number">2</span>;</span><br><span class="line">MergePass(TR, L-&gt;r, k, L-&gt;length);<span class="comment">/*&#x518D;&#x4ECE;&#x8F85;&#x52A9;&#x7A7A;&#x95F4;&#x5C06;&#x6392;&#x8FC7;&#x5E8F;&#x7684;&#x5E8F;&#x5217;&#x5F52;&#x5E76;&#x56DE;&#x539F;&#x6570;&#x7EC4;*/</span></span><br><span class="line">k *= <span class="number">2</span>;</span><br><span class="line">}</span><br><span class="line"><span class="built_in">free</span>(TR);<span class="comment">//&#x91CA;&#x653E;&#x5185;&#x5B58;</span></span><br><span class="line">TR=<span class="literal">NULL</span>;</span><br><span class="line">}</span><br><span class="line"><span class="comment">//&#x5C06;S&#x4E2D;&#x76F8;&#x90BB;&#x957F;&#x5EA6;&#x4E3A;s&#x7684;&#x5B50;&#x7CFB;&#x5217;&#x4E24;&#x4E24;&#x5F52;&#x5E76;&#x5230;T&#x4E2D;</span></span><br><span class="line"><span class="comment">//&#x8FD9;&#x6BB5;&#x4EE3;&#x7801;&#x7A0D;&#x5FAE;&#x96BE;&#x7406;&#x89E3;&#x70B9;&#xFF0C;&#x6587;&#x7AE0;&#x540E;&#x9762;&#x4F1A;&#x5206;&#x6790;&#x4E0B;</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">MergePass</span><span class="params">(<span class="keyword">int</span> *S, <span class="keyword">int</span> *T, <span class="keyword">int</span> s, <span class="keyword">int</span> length)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line"><span class="keyword">int</span> i = <span class="number">1</span>;<span class="comment">//r[0]&#x7528;&#x4F5C;&#x54E8;&#x5175;&#x6216;&#x8005;&#x4E34;&#x65F6;&#x53D8;&#x91CF;</span></span><br><span class="line"><span class="keyword">int</span> j;</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> (i &lt;= length<span class="number">-2</span>*s+<span class="number">1</span>)<span class="comment">//length-i+1(&#x672A;&#x5408;&#x5E76;&#x5143;&#x7D20;) &gt;= 2s </span></span><br><span class="line">{</span><br><span class="line">Merge(S, T, i, i+s<span class="number">-1</span>, i+<span class="number">2</span>*s<span class="number">-1</span>);</span><br><span class="line">i= i+<span class="number">2</span>*s;<span class="comment">//&#x81EA;&#x589E;&#x7684;&#x4E0B;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#x7684;&#x8D77;&#x59CB;&#x70B9;</span></span><br><span class="line">}</span><br><span class="line"><span class="keyword">if</span> (i&lt; length-s+<span class="number">1</span>)<span class="comment">//&#x5F52;&#x5E76;&#x6700;&#x540E;&#x4E24;&#x4E2A;&#x5E8F;&#x5217; </span></span><br><span class="line">Merge(S, T, i, i+s<span class="number">-1</span>, length);</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"><span class="keyword">for</span> (j = i; j &lt;= length; j++)</span><br><span class="line">T[j] = S[j];</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//&#x5F52;&#x5E76;&#x6392;&#x5E8F;&#x6700;&#x4E3B;&#x8981;&#x5B9E;&#x73B0;&#x51FD;&#x6570;</span></span><br><span class="line"><span class="comment">//&#x5C06;&#x6709;&#x5E8F;&#x7684;S[low..m]&#x548C;S[m+1..high]&#x5F52;&#x5E76;&#x5230;&#x6709;&#x5E8F;&#x7684;T[low..high]&#x4E2D;</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Merge</span><span class="params">(<span class="keyword">int</span> *S, <span class="keyword">int</span> *T, <span class="keyword">int</span> low, <span class="keyword">int</span> m, <span class="keyword">int</span> high)</span></span></span><br><span class="line"><span class="function"></span>{<span class="comment">//j&#x5728;[m+1,high]&#x533A;&#x95F4;&#x9012;&#x589E;&#xFF0C;k&#x7528;&#x4E8E;&#x76EE;&#x6807;T&#x7684;&#x4E0B;&#x6807;&#x9012;&#x589E;, l&#x662F;&#x8F85;&#x52A9;&#x53D8;&#x91CF;</span></span><br><span class="line"><span class="keyword">int</span> j, k, l;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (k = low,j = m+<span class="number">1</span>; low &lt;= m &amp;&amp; j &lt;= high; k++)<span class="comment">//&#x5C06;S&#x4E2D;&#x7684;&#x5143;&#x7D20;&#x7531;&#x5C0F;&#x5230;&#x5927;&#x5F52;&#x5E76;&#x5230;T&#x4E2D; </span></span><br><span class="line">{</span><br><span class="line"><span class="keyword">if</span> (S[low] &lt; S[j])</span><br><span class="line">T[k] = S[low++];<span class="comment">//&#x6B64;&#x5904;&#x5148;&#x6267;&#x884C;T[k] = S[low],&#x7136;&#x540E;low++;</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">T[k] = S[j++];<span class="comment">//&#x540C;&#x7406;</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//for&#x5FAA;&#x73AF;&#x8FC7;&#x540E;&#xFF0C;&#x53EF;&#x80FD;&#x6709;j&gt;high &#x6216;&#x8005; low&gt;m&#xFF0C;&#x6545;&#x5206;&#x60C5;&#x51B5;&#x5904;&#x7406;</span></span><br><span class="line"><span class="keyword">if</span> (low &lt;= m)</span><br><span class="line">{</span><br><span class="line"><span class="keyword">for</span> (l = <span class="number">0</span>; l &lt;= m-low; l++)</span><br><span class="line">T[k+l] = S[low+l];<span class="comment">//&#x5C06;&#x5269;&#x4F59;&#x7684;S[low..m]&#x590D;&#x5236;&#x5230;T&#x4E2D; </span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (j &lt;= high)</span><br><span class="line">{</span><br><span class="line"><span class="keyword">for</span> (l = <span class="number">0</span>; l &lt;= high-j; l++)</span><br><span class="line">T[k+l] = S[j+l];<span class="comment">//&#x5C06;&#x5269;&#x4F59;&#x7684;S[j..high]&#x590D;&#x5236;&#x5230;T&#x4E2D;</span></span><br><span class="line">}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>&#x8FD9;&#x91CC;&#x5BF9;&#x90E8;&#x5206;&#x96BE;&#x4EE5;&#x7406;&#x89E3;&#x7684;&#x4EE3;&#x7801;&#x505A;&#x4E2A;&#x8BE6;&#x7EC6;&#x5206;&#x6790;&#xFF1A;</p><figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">MergePass</span><span class="params">(<span class="keyword">int</span> *S, <span class="keyword">int</span> *T, <span class="keyword">int</span> s, <span class="keyword">int</span> length)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line"><span class="keyword">int</span> i = <span class="number">1</span>;<span class="comment">//r[0]&#x7528;&#x4F5C;&#x54E8;&#x5175;&#x6216;&#x8005;&#x4E34;&#x65F6;&#x53D8;&#x91CF;</span></span><br><span class="line"><span class="keyword">int</span> j;</span><br><span class="line"><span class="keyword">while</span> (i &lt;= length<span class="number">-2</span>*s+<span class="number">1</span>)<span class="comment">//length-i+1(&#x672A;&#x5408;&#x5E76;&#x5143;&#x7D20;) &gt;= 2s </span></span><br><span class="line">{</span><br><span class="line">Merge(S, T, i, i+s<span class="number">-1</span>, i+<span class="number">2</span>*s<span class="number">-1</span>);</span><br><span class="line">i= i+<span class="number">2</span>*s;<span class="comment">//&#x81EA;&#x589E;&#x7684;&#x4E0B;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#x7684;&#x8D77;&#x59CB;&#x70B9;</span></span><br><span class="line">}</span><br><span class="line"><span class="keyword">if</span> (i&lt; length-s+<span class="number">1</span>)<span class="comment">//&#x5F52;&#x5E76;&#x6700;&#x540E;&#x4E24;&#x4E2A;&#x5E8F;&#x5217; </span></span><br><span class="line">Merge(S, T, i, i+s<span class="number">-1</span>, length);</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"><span class="keyword">for</span> (j = i; j &lt;= length; j++)</span><br><span class="line">T[j] = S[j];</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>&#x7B2C;5~9&#x884C;&#xFF1A;&#x8FD9;&#x91CC;&#x5B9E;&#x73B0;&#x7684;&#x662F;&#x5B50;&#x5E8F;&#x5217;&#x7684;&#x4E24;&#x4E24;&#x5F52;&#x5E76;&#x3002;</p><ul><li>&#x5224;&#x65AD;&#x6761;&#x4EF6;<code>i &lt;= length-2*s+1</code>&#x53EF;&#x4EE5;&#x770B;&#x505A;<code>length-i+1 &gt;= 2s</code>&#xFF0C;&#x8868;&#x793A;&#x672A;&#x5408;&#x5E76;&#x7684;&#x5143;&#x7D20;&#x5C0F;&#x4E8E;2s&#x65F6;&#x8DF3;&#x51FA;&#x5FAA;&#x73AF;&#xFF0C;&#x5373;&#x4E0D;&#x8DB3;&#x4EE5;&#x6784;&#x6210;&#x4E24;&#x4E2A;&#x957F;&#x5EA6;&#x4E3A;s&#x7684;&#x5B50;&#x5E8F;&#x5217;&#x65F6;&#x8DF3;&#x51FA;&#x5FAA;&#x73AF;&#xFF1B;</li><li>&#x672A;&#x5408;&#x5E76;&#x5143;&#x7D20;&#x9700;&#x8981;+1&#x7684;&#x539F;&#x56E0;&#x53EF;&#x4EE5;&#x7528;&#x4E2A;&#x4F8B;&#x5B50;&#x89E3;&#x91CA;&#xFF1A;&#x5373;&#x7B2C;&#x4E00;&#x6B21;&#x8FDB;&#x5165;&#x5FAA;&#x73AF;&#x65F6;&#xFF0C;&#x5E94;&#x8BE5;&#x662F;&#x6709;length&#x4E2A;&#x5143;&#x7D20;&#x672A;&#x5408;&#x5E76;&#xFF0C;&#x800C;i&#x8D77;&#x59CB;&#x5927;&#x5C0F;&#x662F;1&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x91CC;&#x8981;+1&#x3002;</li><li>&#x7B2C;7&#x884C;&#xFF1A;&#x4F20;&#x5165;&#x5143;&#x7D20;-1&#x662F;&#x56E0;&#x4E3A;<code>i+s</code>&#x548C;<code>i+2s</code>&#x90FD;&#x662F;&#x4E0B;&#x4E00;&#x4E2A;&#x5E8F;&#x5217;&#x7684;&#x8D77;&#x59CB;&#x70B9;&#xFF0C;&#x6240;&#x4EE5;&#x662F;&#x4E00;&#x4E2A;&#x5E8F;&#x5217;&#x7684;&#x7EC8;&#x70B9;&#x5C31;&#x662F;&#x8FD9;&#x4E24;&#x4E2A;&#x503C;-1&#x3002;</li></ul><p>&#x7B2C;10~14&#x884C;&#xFF1A;&#x5224;&#x65AD;&#x6761;&#x4EF6;<code>i&lt; length-s+1</code>&#x4E00;&#x6837;&#x53EF;&#x4EE5;&#x770B;&#x505A;<code>length-i+1&gt;s</code></p><ul><li>&#x6EE1;&#x8DB3;&#x6761;&#x4EF6;&#xFF1A;&#x672A;&#x5408;&#x5E76;&#x7684;&#x5143;&#x7D20;&#x957F;&#x5EA6;&#x5927;&#x4E8E;s&#xFF0C;&#x8868;&#x793A;&#x8FD8;&#x80FD;&#x6784;&#x6210;&#x4E00;&#x4E2A;&#x957F;&#x5EA6;&#x4E3A;s&#x7684;&#x5E8F;&#x5217;&#x548C;&#x4E00;&#x4E2A;&#x5C0F;&#x4E8E;s&#x7684;&#x5E8F;&#x5217;&#xFF0C;&#x5373;&#x6700;&#x540E;&#x4E24;&#x4E2A;&#x5E8F;&#x5217;&#xFF0C;&#x8FD9;&#x65F6;&#x8FD8;&#x8981;&#x6267;&#x884C;&#x4E00;&#x6B21;&#x5F52;&#x5E76;&#x3002;</li><li>else&#xFF1A;&#x672A;&#x5408;&#x5E76;&#x7684;&#x5143;&#x7D20;&#x957F;&#x5EA6;&#x5C0F;&#x4E8E;s&#xFF0C;&#x5219;&#x53EA;&#x5269;&#x4E00;&#x4E2A;&#x5E8F;&#x5217;&#xFF0C;&#x8FD9;&#x65F6;&#x65E0;&#x6CD5;&#x5F52;&#x5E76;&#xFF0C;&#x76F4;&#x63A5;&#x628A;&#x5143;&#x7D20;&#x52A0;&#x5230;T&#x6570;&#x7EC4;&#x540E;&#x7AEF;&#x3002;</li></ul><p>&#x5269;&#x4E0B;&#x7684;&#x5E94;&#x8BE5;&#x4E0D;&#x96BE;&#x7406;&#x89E3;&#x4E86;&#x5427;&#x3002;<img src="https://upload-images.jianshu.io/upload_images/13694807-21f993cac82164ef.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/100/format/webp" alt=""></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;https://upload-images.jianshu.io/upload_images/13694807-668f8c47092ad75c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="C" scheme="https://perkyrookie.github.io/tags/C/"/>
    
      <category term="排序算法" scheme="https://perkyrookie.github.io/tags/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>给ROCK64安装OpenCV3</title>
    <link href="https://perkyrookie.github.io/PerkyRookie/9ddb80a1/"/>
    <id>https://perkyrookie.github.io/PerkyRookie/9ddb80a1/</id>
    <published>2018-12-20T13:38:04.000Z</published>
    <updated>2019-01-22T15:40:00.687Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><img src="http://upload-images.jianshu.io/upload_images/13694807-77bc0d44afeccb05.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p><a id="more"></a><h1 id="&#x524D;&#x8A00;"><a href="#&#x524D;&#x8A00;" class="headerlink" title="&#x524D;&#x8A00;"></a>&#x524D;&#x8A00;</h1><blockquote><p>&#x4E4B;&#x524D;&#x5728;&#x505A;&#x9879;&#x76EE;&#x65F6;&#x63A5;&#x89E6;&#x4E86;&#x8FD9;&#x5757;&#x677F;&#xFF0C;&#x9009;&#x5B83;&#x7684;&#x4E3B;&#x8981;&#x539F;&#x56E0;&#x662F;&#x56E0;&#x4E3A;&#x5B83;&#x6709;&#x4E00;&#x4E2A;USB3.0&#x7684;&#x63A5;&#x53E3;&#xFF08;&#x6811;&#x8393;&#x6D3E;&#x53EA;&#x6709;2.0&#xFF09;&#xFF0C;&#x5E76;&#x4E14;&#x6709;&#x548C;&#x6811;&#x8393;&#x6D3E;&#x5DEE;&#x4E0D;&#x591A;&#x7684;&#x6027;&#x80FD;&#xFF0C;&#x4E0D;&#x8FC7;&#x8FD9;&#x5757;&#x677F;&#x8FD8;&#x662F;&#x6709;&#x5F88;&#x591A;&#x7F3A;&#x70B9;&#xFF0C;&#x4F8B;&#x5982;&#x521A;&#x51FA;&#x4E0D;&#x4E45;&#xFF0C;&#x8D44;&#x6599;&#x5F88;&#x5C11;&#xFF0C;&#x7279;&#x522B;&#x662F;&#x56FD;&#x5185;&#x7684;&#x8D44;&#x6599;&#x51E0;&#x4E4E;&#x6CA1;&#x6709;&#xFF0C;&#x800C;&#x4E14;&#x7CFB;&#x7EDF;&#x4E5F;&#x4E0D;&#x662F;&#x5F88;&#x5B8C;&#x5584;&#xFF0C;&#x6240;&#x4EE5;&#x5728;&#x88C5;OpenCV3&#x65F6;&#x9047;&#x5230;&#x4E86;&#x5F88;&#x591A;&#x574E;&#xFF0C;&#x88C5;&#x4E86;&#x6211;&#x56DB;&#x4E94;&#x5929;&#x624D;&#x88C5;&#x597D;&#xFF0C;&#x4E4B;&#x540E;&#x5462;&#xFF0C;&#x4E5F;&#x5728;CSDN&#x505A;&#x4E86;&#x4E2A;&#x6559;&#x7A0B;&#xFF0C;&#x73B0;&#x5728;&#x6709;&#x4E00;&#x4E2A;&#x81EA;&#x5DF1;&#x7684;&#x535A;&#x5BA2;&#x4E86;&#xFF0C;&#x5C31;&#x628A;&#x5B83;&#x8FC1;&#x79FB;&#x8FC7;&#x6765;&#x3002;</p></blockquote><h1 id="&#x8BF4;&#x660E;"><a href="#&#x8BF4;&#x660E;" class="headerlink" title="&#x8BF4;&#x660E;"></a>&#x8BF4;&#x660E;</h1><p>ROCK64&#x914D;&#x7F6E;&#x4EC0;&#x4E48;&#x7684;&#x5C31;&#x4E0D;&#x591A;&#x8BF4;&#x4E86;&#xFF0C;&#x7CFB;&#x7EDF;&#x91C7;&#x7528;&#x7684;&#x662F;&#x5B98;&#x65B9;&#x7684;Debian&#x7CFB;&#x7EDF;&#xFF0C;&#x5B89;&#x88C5;&#x8FC7;&#x7A0B;&#x53C2;&#x8003;&#x4E86;Satya Mallick&#x7684;&#x6559;&#x7A0B;&#xFF0C;&#x94FE;&#x63A5;&#x4E3A;&#xFF1A;<a href="https://www.learnopencv.com/install-opencv3-on-ubuntu/#comments" target="_blank" rel="noopener">https://www.learnopencv.com/install-opencv3-on-ubuntu/#comments</a></p><h1 id="&#x5B89;&#x88C5;&#x6B65;&#x9AA4;"><a href="#&#x5B89;&#x88C5;&#x6B65;&#x9AA4;" class="headerlink" title="&#x5B89;&#x88C5;&#x6B65;&#x9AA4;"></a>&#x5B89;&#x88C5;&#x6B65;&#x9AA4;</h1><p>&#x73B0;&#x5728;&#x5F00;&#x59CB;&#x5427;~ <img src="https://upload-images.jianshu.io/upload_images/13694807-2b0bf31978cb0413.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p><h2 id="&#x7B2C;&#x4E00;&#x6B65;&#xFF1A;&#x66F4;&#x65B0;&#x5305;"><a href="#&#x7B2C;&#x4E00;&#x6B65;&#xFF1A;&#x66F4;&#x65B0;&#x5305;" class="headerlink" title="&#x7B2C;&#x4E00;&#x6B65;&#xFF1A;&#x66F4;&#x65B0;&#x5305;"></a>&#x7B2C;&#x4E00;&#x6B65;&#xFF1A;&#x66F4;&#x65B0;&#x5305;</h2><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get upgrade</span><br></pre></td></tr></tbody></table></figure><p>&#x8FD9;&#x4E00;&#x6B65;&#x6267;&#x884C;&#x540E;&#x4F1A;&#x7F3A;&#x5C11;&#x5F88;&#x591A;&#x4F9D;&#x8D56;&#x9879;&#xFF0C;&#x5F88;&#x591A;&#x6CA1;&#x66F4;&#x65B0;&#xFF0C;&#x6CA1;&#x5B89;&#x88C5;&#xFF0C;&#x4E0D;&#x8FC7;&#x4E0D;&#x6025;&#xFF0C;&#x5148;&#x6267;&#x884C;&#x4E0B;&#x9762;&#x4E00;&#x6B65;&#x3002;</p><h2 id="&#x7B2C;2&#x6B65;&#xFF1A;&#x5B89;&#x88C5;OS&#x5E93;"><a href="#&#x7B2C;2&#x6B65;&#xFF1A;&#x5B89;&#x88C5;OS&#x5E93;" class="headerlink" title="&#x7B2C;2&#x6B65;&#xFF1A;&#x5B89;&#x88C5;OS&#x5E93;"></a>&#x7B2C;2&#x6B65;&#xFF1A;&#x5B89;&#x88C5;OS&#x5E93;</h2><font color="#dd0000">&#x6CE8;&#x610F;&#x4E0B;&#x9762;&#x51E0;&#x90E8;&#x597D;&#x51E0;&#x4E2A;&#x53EF;&#x80FD;&#x90FD;&#x4F1A;&#x4E0D;&#x6210;&#x529F;&#xFF0C;&#x4E00;&#x5B9A;&#x8981;&#x6CE8;&#x610F;&#xFF0C;&#x4E0D;&#x80FD;&#x8DF3;&#x8FC7;</font><p>&#x5B89;&#x88C5;&#x5931;&#x8D25;&#x7684;&#x5C31;&#x5230;&#x8FD9;&#x4E2A;&#x94FE;&#x63A5;&#x4E0B;&#x8F7D;&#xFF1A;<a href="https://www.debian.org/distrib/packages" target="_blank" rel="noopener">https://www.debian.org/distrib/packages</a>&#xFF08;&#x53F3;&#x4E0A;&#x89D2;&#x641C;&#x7D22;&#xFF09;&#xFF0C;&#x4E00;&#x822C;&#x4E0B;&#x8F7D;&#x7A33;&#x5B9A;&#x7248;&#xFF0C;&#x5373;<strong>stretch</strong>(stable)&#x7248;&#xFF0C;&#x5F53;&#x7136;&#x6CA1;&#x6709;&#x5C31;&#x4E0B;&#x8F7D;&#x5176;&#x4ED6;&#x7684;&#xFF0C;&#x786C;&#x4EF6;&#x67B6;&#x6784;&#x4E00;&#x5B9A;&#x8981;<strong>arm64</strong>&#xFF0C;&#x522B;&#x9009;&#x6210;amd&#x4E86;&#xFF0C;&#x4E0B;&#x8F7D;&#x540E;&#x547D;&#x4EE4;&#x884C;&#x6267;&#x884C;&#x5230;&#x4FDD;&#x5B58;&#x7684;&#x76EE;&#x5F55;&#xFF0C;&#x5B89;&#x88C5;deb&#x5305;(<code>sudo dpkg -i xxx.deb</code>)&#x3002;</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># &#x5220;&#x9664;&#x4EE5;&#x524D;&#x5B89;&#x88C5;&#x7684;x264</span></span><br><span class="line">sudo apt-get remove x264 libx264-dev</span><br><span class="line"><span class="comment"># &#x7136;&#x540E;&#x5F00;&#x59CB;&#x5B89;&#x88C5;&#x4F9D;&#x8D56;&#x9879;</span></span><br><span class="line">sudo apt-get install build-essential checkinstall cmake pkg-config yasm</span><br><span class="line">sudo apt-get install git gfortran</span><br><span class="line">sudo apt-get install libjpeg8-dev libjasper-dev libpng12-dev</span><br><span class="line"> </span><br><span class="line"><span class="comment"># &#x5982;&#x679C;&#x4F60;&#x7684;&#x7CFB;&#x7EDF;&#x662F; Ubuntu 14.04</span></span><br><span class="line">sudo apt-get install libtiff4-dev</span><br><span class="line"><span class="comment"># &#x5982;&#x679C;&#x4F60;&#x7684;&#x7CFB;&#x7EDF;&#x662F; Ubuntu 16.04</span></span><br><span class="line">sudo apt-get install libtiff5-dev</span><br><span class="line"> </span><br><span class="line">sudo apt-get install libavcodec-dev libavformat-dev libswscale-dev libdc1394-22-dev</span><br><span class="line">sudo apt-get install libxine2-dev libv4l-dev</span><br><span class="line">sudo apt-get install libgstreamer0.10-dev libgstreamer-plugins-base0.10-dev</span><br><span class="line">sudo apt-get install qt5-default libgtk2.0-dev libtbb-dev</span><br><span class="line">sudo apt-get install libatlas-base-dev</span><br><span class="line">sudo apt-get install libfaac-dev libmp3lame-dev libtheora-dev</span><br><span class="line">sudo apt-get install libvorbis-dev libxvidcore-dev</span><br><span class="line">sudo apt-get install libopencore-amrnb-dev libopencore-amrwb-dev</span><br><span class="line">sudo apt-get install x264 v4l-utils</span><br><span class="line"> </span><br><span class="line"><span class="comment"># &#x53EF;&#x9009;&#x7684;&#x4F9D;&#x8D56;&#x9879;&#xFF08;&#x6700;&#x597D;&#x5B89;&#x88C5;&#xFF0C;&#x514D;&#x5F97;&#x540E;&#x9762;&#x7F3A;&#x5C11;&#xFF09;</span></span><br><span class="line">sudo apt-get install libprotobuf-dev protobuf-compiler</span><br><span class="line">sudo apt-get install libgoogle-glog-dev libgflags-dev</span><br><span class="line">sudo apt-get install libgphoto2-dev libeigen3-dev libhdf5-dev doxygen</span><br></pre></td></tr></tbody></table></figure><p>&#x5B89;&#x88C5;&#x5B8C;&#x540E;&#x5728;&#x91CD;&#x65B0;&#x6267;&#x884C;&#x4E00;&#x6B21;&#x66F4;&#x65B0;&#x5305;&#x547D;&#x4EE4;&#xFF0C;&#x770B;&#x8FD8;&#x7F3A;&#x5C11;&#x4EC0;&#x4E48;</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get upgrade</span><br></pre></td></tr></tbody></table></figure><p>&#x7F3A;&#x7684;&#x5C31;&#x53BB;&#x4E0A;&#x9762;&#x7684;<a href="#head">&#x90A3;&#x4E2A;&#x94FE;&#x63A5;</a>&#x627E;&#xFF0C;&#x8FDB;&#x884C;&#x624B;&#x52A8;&#x5B89;&#x88C5;&#x3002;&#x4E0D;&#x8FC7;&#x6709;&#x4E24;&#x4E2A;&#x4F1A;&#x641C;&#x4E0D;&#x5230;&#xFF0C;<code>linux-rock64</code>&#x548C;<code>linux-rock64-package</code>&#xFF0C;&#x8FD9;&#x4E2A;&#x5E94;&#x8BE5;&#x662F;&#x5B98;&#x65B9;&#x56FA;&#x4EF6;&#x5E93;&#x7684;&#x5347;&#x7EA7;&#x5305;&#x7684;&#xFF0C;&#x535A;&#x4E3B;&#x5B89;&#x88C5;&#x8FD9;&#x4E24;&#x4E2A;&#x4E4B;&#x540E;&#x53D1;&#x73B0;&#x663E;&#x793A;&#x5C4F;&#x65E0;&#x6CD5;&#x663E;&#x793A;&#xFF08;&#x5177;&#x4F53;&#x4E0D;&#x77E5;&#x9053;&#x4EC0;&#x4E48;&#x539F;&#x56E0;&#xFF0C;&#x6709;&#x77E5;&#x9053;&#x7684;&#x53EF;&#x4EE5;&#x8BF4;&#x4E0B;&#xFF09;&#xFF0C;&#x4F46;&#x80FD;&#x5F00;&#x673A;&#xFF08;&#x5373;&#x80FD;&#x8FDC;&#x7A0B;&#x64CD;&#x63A7;&#xFF09;&#xFF0C;&#x535A;&#x4E3B;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x663E;&#x793A;&#x5C4F;&#xFF0C;&#x8FD9;&#x4E24;&#x4E2A;&#x6CA1;&#x88C5;&#xFF0C;&#x8FD9;&#x4E2A;&#x770B;&#x4E2A;&#x4EBA;&#x9700;&#x8981;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x4E0D;&#x7528;&#x663E;&#x793A;&#x5C4F;&#x5C31;&#x88C5;&#xFF0C;&#x94FE;&#x63A5;&#x4E3A;<a href="https://github.com/ayufan-rock64/linux-build/releases/tag/0.6.44" target="_blank" rel="noopener">https://github.com/ayufan-rock64/linux-build/releases/tag/0.6.44</a>&#x3002;</p><p>&#x4E5F;&#x53EF;&#x76F4;&#x63A5;&#x6267;&#x884C;&#x4E0B;&#x9762;&#x4E24;&#x6B65;&#x8FDB;&#x884C;&#x81EA;&#x52A8;&#x5B89;&#x88C5;</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update -y</span><br><span class="line">sudo apt-get install linux-rock64 -y</span><br></pre></td></tr></tbody></table></figure><h2 id="&#x7B2C;3&#x6B65;&#xFF1A;&#x5B89;&#x88C5;Python&#x5E93;"><a href="#&#x7B2C;3&#x6B65;&#xFF1A;&#x5B89;&#x88C5;Python&#x5E93;" class="headerlink" title="&#x7B2C;3&#x6B65;&#xFF1A;&#x5B89;&#x88C5;Python&#x5E93;"></a>&#x7B2C;3&#x6B65;&#xFF1A;&#x5B89;&#x88C5;Python&#x5E93;</h2><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># &#x53EF;&#x9009;&#x5B89;&#x88C5;&#xFF0C;&#x5982;&#x679C;&#x53EA;&#x8981;python3&#x5C31;&#x53BB;&#x6389;python-pip</span></span><br><span class="line">sudo apt-get install python-dev python-pip python3-dev python3-pip</span><br><span class="line">sudo -H pip2 install -U pip numpy</span><br><span class="line">sudo -H pip3 install -U pip numpy</span><br></pre></td></tr></tbody></table></figure><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># &#x5B89;&#x88C5;&#x865A;&#x62DF;&#x73AF;&#x5883;&#xFF0C;&#x5C06;&#x9879;&#x76EE;&#x73AF;&#x5883;&#x548C;&#x5168;&#x5C40;&#x73AF;&#x5883;&#x5206;&#x5F00;&#xFF0C;&#x8FD9;&#x901A;&#x5E38;&#x662F;&#x4E00;&#x79CD;&#x5F88;&#x597D;&#x7684;&#x505A;&#x6CD5;&#x3002;</span></span><br><span class="line">sudo pip2 install virtualenv virtualenvwrapper</span><br><span class="line">sudo pip3 install virtualenv virtualenvwrapper</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;# Virtual Environment Wrapper&quot;</span>  &gt;&gt; ~/.bashrc</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;source /usr/local/bin/virtualenvwrapper.sh&quot;</span> &gt;&gt; ~/.bashrc</span><br><span class="line"><span class="built_in">source</span> ~/.bashrc</span><br></pre></td></tr></tbody></table></figure><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># &#x53EF;&#x9009;&#xFF0C;&#x53EF;&#x4E24;&#x4E2A;&#x90FD;&#x88C5;&#xFF0C;&#x4E00;&#x5B9A;&#x8981;&#x865A;&#x62DF;&#x73AF;&#x5883;</span></span><br><span class="line"><span class="comment">############ Python 2 ############</span></span><br><span class="line"><span class="comment"># &#x521B;&#x5EFA;&#x865A;&#x62DF;&#x73AF;&#x5883;</span></span><br><span class="line">mkvirtualenv facecourse-py2 -p python2</span><br><span class="line">workon facecourse-py2</span><br><span class="line"><span class="comment"># &#x5728;&#x865A;&#x62DF;&#x73AF;&#x5883;&#x4E2D;&#x5B89;&#x88C5;python&#x5E93;</span></span><br><span class="line">pip install numpy scipy matplotlib scikit-image scikit-learn ipython</span><br><span class="line"><span class="comment"># &#x9000;&#x51FA;&#x865A;&#x62DF;&#x73AF;&#x5883;</span></span><br><span class="line">deactivate</span><br><span class="line"><span class="comment">######################################</span></span><br><span class="line"></span><br><span class="line"><span class="comment">############ Python 3 ############</span></span><br><span class="line"><span class="comment"># &#x521B;&#x5EFA;&#x865A;&#x62DF;&#x73AF;&#x5883;</span></span><br><span class="line">mkvirtualenv facecourse-py3 -p python3</span><br><span class="line">workon facecourse-py3 </span><br><span class="line"><span class="comment"># &#x5728;&#x865A;&#x62DF;&#x73AF;&#x5883;&#x4E2D;&#x5B89;&#x88C5;python&#x5E93;</span></span><br><span class="line">pip install numpy scipy matplotlib scikit-image scikit-learn ipython</span><br><span class="line"><span class="comment"># &#x9000;&#x51FA;&#x865A;&#x62DF;&#x73AF;&#x5883;</span></span><br><span class="line">deactivate</span><br><span class="line"><span class="comment">######################################</span></span><br></pre></td></tr></tbody></table></figure><h2 id="&#x7B2C;4&#x6B65;&#xFF1A;&#x4E0B;&#x8F7D;OpenCV&#x548C;OpenCV-contrib"><a href="#&#x7B2C;4&#x6B65;&#xFF1A;&#x4E0B;&#x8F7D;OpenCV&#x548C;OpenCV-contrib" class="headerlink" title="&#x7B2C;4&#x6B65;&#xFF1A;&#x4E0B;&#x8F7D;OpenCV&#x548C;OpenCV_contrib"></a>&#x7B2C;4&#x6B65;&#xFF1A;&#x4E0B;&#x8F7D;OpenCV&#x548C;OpenCV_contrib</h2><p>&#x8FD9;&#x4E24;&#x90E8;&#x53EF;&#x80FD;&#x4F1A;&#x51FA;&#x9519;&#xFF08;&#x56FD;&#x5185;&#x53EF;&#x80FD;&#x88AB;&#x5899;&#xFF09;&#xFF0C;&#x591A;&#x8BD5;&#x51E0;&#x6B21;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x6D4F;&#x89C8;&#x5668;&#x4E0B;&#x8F7D;&#xFF0C;&#x4E0D;&#x8FC7;&#x8981;&#x6CE8;&#x610F;&#x7248;&#x672C;&#x53F7;</p><h3 id="&#x6B65;&#x9AA4;4-1&#xFF1A;&#x4ECE;Github&#x4E0B;&#x8F7D;opencv"><a href="#&#x6B65;&#x9AA4;4-1&#xFF1A;&#x4ECE;Github&#x4E0B;&#x8F7D;opencv" class="headerlink" title="&#x6B65;&#x9AA4;4.1&#xFF1A;&#x4ECE;Github&#x4E0B;&#x8F7D;opencv"></a>&#x6B65;&#x9AA4;4.1&#xFF1A;&#x4ECE;Github&#x4E0B;&#x8F7D;opencv</h3><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/opencv/opencv.git</span><br><span class="line"><span class="built_in">cd</span> opencv </span><br><span class="line">git checkout 3.3.1 <span class="comment"># &#x6CE8;&#x610F;&#x8FD9;&#x4E2A;&#x8981;&#x548C;&#x4E0B;&#x9762;&#x7684;&#x7248;&#x672C;&#x4E00;&#x81F4;</span></span><br><span class="line"><span class="built_in">cd</span> ..</span><br></pre></td></tr></tbody></table></figure><h3 id="&#x6B65;&#x9AA4;4-2&#xFF1A;&#x4ECE;Github&#x4E0B;&#x8F7D;opencv-contrib"><a href="#&#x6B65;&#x9AA4;4-2&#xFF1A;&#x4ECE;Github&#x4E0B;&#x8F7D;opencv-contrib" class="headerlink" title="&#x6B65;&#x9AA4;4.2&#xFF1A;&#x4ECE;Github&#x4E0B;&#x8F7D;opencv_contrib"></a>&#x6B65;&#x9AA4;4.2&#xFF1A;&#x4ECE;Github&#x4E0B;&#x8F7D;opencv_contrib</h3><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/opencv/opencv_contrib.git</span><br><span class="line"><span class="built_in">cd</span> opencv_contrib</span><br><span class="line">git checkout 3.3.1</span><br><span class="line"><span class="built_in">cd</span> ..</span><br></pre></td></tr></tbody></table></figure><h2 id="&#x7B2C;&#x4E94;&#x6B65;&#xFF1A;&#x4F7F;&#x7528;contrib&#x6A21;&#x5757;&#x7F16;&#x8BD1;&#x5E76;&#x5B89;&#x88C5;OpenCV"><a href="#&#x7B2C;&#x4E94;&#x6B65;&#xFF1A;&#x4F7F;&#x7528;contrib&#x6A21;&#x5757;&#x7F16;&#x8BD1;&#x5E76;&#x5B89;&#x88C5;OpenCV" class="headerlink" title="&#x7B2C;&#x4E94;&#x6B65;&#xFF1A;&#x4F7F;&#x7528;contrib&#x6A21;&#x5757;&#x7F16;&#x8BD1;&#x5E76;&#x5B89;&#x88C5;OpenCV"></a>&#x7B2C;&#x4E94;&#x6B65;&#xFF1A;&#x4F7F;&#x7528;contrib&#x6A21;&#x5757;&#x7F16;&#x8BD1;&#x5E76;&#x5B89;&#x88C5;OpenCV</h2><h3 id="&#x6B65;&#x9AA4;5-1&#xFF1A;&#x521B;&#x5EFA;&#x6784;&#x5EFA;&#x76EE;&#x5F55;"><a href="#&#x6B65;&#x9AA4;5-1&#xFF1A;&#x521B;&#x5EFA;&#x6784;&#x5EFA;&#x76EE;&#x5F55;" class="headerlink" title="&#x6B65;&#x9AA4;5.1&#xFF1A;&#x521B;&#x5EFA;&#x6784;&#x5EFA;&#x76EE;&#x5F55;"></a>&#x6B65;&#x9AA4;5.1&#xFF1A;&#x521B;&#x5EFA;&#x6784;&#x5EFA;&#x76EE;&#x5F55;</h3><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> opencv</span><br><span class="line">mkdir build</span><br><span class="line"><span class="built_in">cd</span> build</span><br></pre></td></tr></tbody></table></figure><h3 id="&#x6B65;&#x9AA4;5-2&#xFF1A;&#x8FD0;&#x884C;CMake"><a href="#&#x6B65;&#x9AA4;5-2&#xFF1A;&#x8FD0;&#x884C;CMake" class="headerlink" title="&#x6B65;&#x9AA4;5.2&#xFF1A;&#x8FD0;&#x884C;CMake"></a>&#x6B65;&#x9AA4;5.2&#xFF1A;&#x8FD0;&#x884C;CMake</h3><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># &#x6CE8;&#x610F;&#x7B2C;&#x5341;&#x884C;&#x7684;&#x76EE;&#x5F55;&#x8981;&#x5BF9;</span></span><br><span class="line">cmake -D CMAKE_BUILD_TYPE=RELEASE \</span><br><span class="line">      -D CMAKE_INSTALL_PREFIX=/usr/<span class="built_in">local</span> \</span><br><span class="line">      -D INSTALL_C_EXAMPLES=ON \</span><br><span class="line">      -D INSTALL_PYTHON_EXAMPLES=ON \</span><br><span class="line">      -D WITH_TBB=ON \</span><br><span class="line">      -D WITH_V4L=ON \</span><br><span class="line">      -D WITH_QT=ON \</span><br><span class="line">      -D WITH_OPENGL=ON \</span><br><span class="line">      -D OPENCV_EXTRA_MODULES_PATH=../../opencv_contrib/modules \</span><br><span class="line">      -D BUILD_EXAMPLES=ON ..</span><br></pre></td></tr></tbody></table></figure><h3 id="&#x6B65;&#x9AA4;5-3&#xFF1A;&#x7F16;&#x8BD1;&#x5E76;&#x5B89;&#x88C5;"><a href="#&#x6B65;&#x9AA4;5-3&#xFF1A;&#x7F16;&#x8BD1;&#x5E76;&#x5B89;&#x88C5;" class="headerlink" title="&#x6B65;&#x9AA4;5.3&#xFF1A;&#x7F16;&#x8BD1;&#x5E76;&#x5B89;&#x88C5;"></a>&#x6B65;&#x9AA4;5.3&#xFF1A;&#x7F16;&#x8BD1;&#x5E76;&#x5B89;&#x88C5;</h3><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># &#x786E;&#x5B9A;&#x673A;&#x5668;&#x4E2D;&#x7684;CPU&#x6838;&#x5FC3;&#x6570;&#x91CF;&#xFF0C;&#x8F93;&#x51FA;&#x51E0;&#x4EE3;&#x8868;&#x51E0;&#x4E2A;&#x6838;&#x5FC3;</span></span><br><span class="line">nproc</span><br><span class="line"><span class="comment"># &#x7528;nproc&#x7684;&#x8F93;&#x51FA;&#x66FF;&#x6362;&#x4E0B;&#x9762;&#x7684;4</span></span><br><span class="line">make -j4</span><br><span class="line">sudo make install</span><br><span class="line">sudo sh -c <span class="string">&apos;echo &quot;/usr/local/lib&quot; &gt;&gt; /etc/ld.so.conf.d/opencv.conf&apos;</span></span><br><span class="line">sudo ldconfig</span><br></pre></td></tr></tbody></table></figure><p>&#x5982;&#x679C;&#x7F16;&#x8BD1;&#x6210;&#x529F;&#x663E;&#x793A;</p><p><img src="http://upload-images.jianshu.io/upload_images/13694807-d22a676cc423e8fb.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p><font color="#dd0000">&#x4E00;&#x5B9A;&#x8981;&#x6210;&#x529F;&#x624D;&#x80FD;&#x6267;&#x884C;&#x4E0B;&#x4E00;&#x6B65;</font>&#xFF0C;&#x4E0D;&#x6210;&#x529F;&#x5C31;&#x5F97;&#x627E;&#x95EE;&#x9898;&#xFF0C;&#x770B;&#x4F1A;&#x4E0D;&#x4F1A;&#x6F0F;&#x4E86;&#x54EA;&#x4E00;&#x6B65;&#xFF0C;&#x6309;&#x7167;&#x4E0A;&#x9762;&#x6B65;&#x9AA4;&#x4E00;&#x822C;&#x4E0D;&#x4F1A;&#x5931;&#x8D25;### &#x6B65;&#x9AA4;5.4&#xFF1A;&#x5728;&#x865A;&#x62DF;&#x73AF;&#x5883;&#x4E2D;&#x521B;&#x5EFA;&#x7B26;&#x53F7;&#x94FE;&#x63A5;&#x6839;&#x636E;&#x60A8;&#x7684;Python&#x7248;&#x672C;&#xFF0C;&#x8DEF;&#x5F84;&#x4F1A;&#x6709;&#x6240;&#x4E0D;&#x540C;&#x3002;OpenCV&#x7684;Python&#x4E8C;&#x8FDB;&#x5236;&#x6587;&#x4EF6;&#xFF08;cv2.so&#xFF09;&#x53EF;&#x80FD;&#x5B89;&#x88C5;&#x5728;&#x76EE;&#x5F55;site-packages&#x6216;dist-packages&#x4E2D;&#x3002;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x4EE5;&#x4E0B;&#x547D;&#x4EE4;&#x67E5;&#x627E;&#x5176;&#x5728;&#x8BA1;&#x7B97;&#x673A;&#x4E0A;&#x7684;&#x6B63;&#x786E;&#x4F4D;&#x7F6E;&#x3002;<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find /usr/<span class="built_in">local</span>/lib/ -<span class="built_in">type</span> f -name <span class="string">&quot;cv2*.so&quot;</span></span><br></pre></td></tr></tbody></table></figure><font color="#dd0000">&#x8FD9;&#x91CC;&#x7684;&#x8DEF;&#x5F84;&#x8981;&#x6CE8;&#x610F;&#x4E0B;&#xFF0C;&#x4E0A;&#x9762;&#x8F93;&#x51FA;&#x4EC0;&#x4E48;&#x8DEF;&#x5F84;&#x4E0B;&#x9762;&#x5C31;&#x662F;&#x4EC0;&#x4E48;&#x8DEF;&#x5F84;</font><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">############ Python 2 ############</span></span><br><span class="line"><span class="built_in">cd</span> ~/.virtualenvs/facecourse-py2/lib/python2.7/site-packages</span><br><span class="line">ln -s /usr/<span class="built_in">local</span>/lib/python2.7/site-packages/cv2.so cv2.so</span><br><span class="line"><span class="comment">############ Python 3 ############</span></span><br><span class="line"><span class="built_in">cd</span> ~/.virtualenvs/facecourse-py3/lib/python3.6/site-packages</span><br><span class="line">ln -s /usr/<span class="built_in">local</span>/lib/python3.6/site-packages/cv2.so cv2.so</span><br></pre></td></tr></tbody></table></figure><p>&#x4E0D;&#x62A5;&#x9519;&#xFF0C;&#x5C31;&#x5B89;&#x88C5;&#x5B8C;&#x6210;</p><h2 id="&#x7B2C;&#x516D;&#x6B65;&#xFF1A;&#x6D4B;&#x8BD5;OpenCV3"><a href="#&#x7B2C;&#x516D;&#x6B65;&#xFF1A;&#x6D4B;&#x8BD5;OpenCV3" class="headerlink" title="&#x7B2C;&#x516D;&#x6B65;&#xFF1A;&#x6D4B;&#x8BD5;OpenCV3"></a>&#x7B2C;&#x516D;&#x6B65;&#xFF1A;&#x6D4B;&#x8BD5;OpenCV3</h2><h3 id="&#x6B65;&#x9AA4;6-1&#xFF1A;&#x6D4B;&#x8BD5;Python&#x4EE3;&#x7801;"><a href="#&#x6B65;&#x9AA4;6-1&#xFF1A;&#x6D4B;&#x8BD5;Python&#x4EE3;&#x7801;" class="headerlink" title="&#x6B65;&#x9AA4;6.1&#xFF1A;&#x6D4B;&#x8BD5;Python&#x4EE3;&#x7801;"></a>&#x6B65;&#x9AA4;6.1&#xFF1A;&#x6D4B;&#x8BD5;Python&#x4EE3;&#x7801;</h3><p>&#x8FDB;&#x5165;Python&#x865A;&#x62DF;&#x73AF;&#x5883;&#xFF0C;&#x5F53;&#x7136;&#x6700;&#x597D;&#x5148;&#x8FDB;&#x5165;root&#x73AF;&#x5883;</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">su root</span><br><span class="line"><span class="comment">############ Python 2 ############</span></span><br><span class="line">workon facecourse-py2</span><br><span class="line"><span class="comment"># &#x6216;</span></span><br><span class="line"><span class="comment">############ Python 3 ############</span></span><br><span class="line">workon facecourse-py3</span><br></pre></td></tr></tbody></table></figure><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># &#x6253;&#x5F00;python&#xFF08;&#x5728;&#x7EC8;&#x7AEF;&#x4E0A;&#x8FD0;&#x884C;&#x6B64;&#x547D;&#x4EE4;&#xFF09;</span></span><br><span class="line">python</span><br><span class="line"><span class="comment"># &#x5BFC;&#x5165;cv2&#x5305;&#xFF08;&#x5728;python&#x4E2D;&#x8FD0;&#x884C;&#x4EE5;&#x4E0B;&#x547D;&#x4EE4;&#xFF09;</span></span><br><span class="line">import cv2</span><br><span class="line"><span class="built_in">print</span> cv2.__version__</span><br><span class="line"><span class="comment"># &#x5982;&#x679C;OpenCV3&#x5B89;&#x88C5;&#x6B63;&#x786E;&#xFF0C;</span></span><br><span class="line"><span class="comment"># &#x4E0A;&#x9762;&#x7684;&#x547D;&#x4EE4;&#x5E94;&#x8BE5;&#x8F93;&#x51FA;3.3.1</span></span><br><span class="line"><span class="comment"># &#x6309;CTRL + D&#x9000;&#x51FA;ipython</span></span><br></pre></td></tr></tbody></table></figure><p>&#x5982;&#x679C;&#x6CA1;&#x6709;&#x8F93;&#x51FA;&#x4E0A;&#x9762;&#x7684;&#x7ED3;&#x679C;&#xFF0C;&#x5C31;&#x53EA;&#x80FD;&#x6309;&#x4E0B;&#x9762;&#x7684;&#x6267;&#x884C;&#xFF0C;&#x5F53;&#x7136;&#x4F1A;&#x9EBB;&#x70E6;&#x70B9;&#xFF1A;</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">su root</span><br><span class="line"><span class="comment"># &#x8FDB;&#x5165;&#x5230;&#x6B65;&#x9AA4;5.4&#x7684;&#x76EE;&#x5F55;&#xFF0C;&#x4EE5;&#x540E;&#x6267;&#x884C;&#x4EE3;&#x7801;&#x4E5F;&#x5728;&#x8FD9;&#x4E2A;&#x76EE;&#x5F55;</span></span><br><span class="line"><span class="built_in">cd</span> ~/.virtualenvs/cv/lib/python2.7/site-packages/</span><br><span class="line"><span class="comment"># &#x6267;&#x884C;</span></span><br><span class="line">python</span><br><span class="line">import cv2</span><br><span class="line"><span class="built_in">print</span> cv2.__version__</span><br></pre></td></tr></tbody></table></figure><p>&#x8FD9;&#x6B65;&#x9AA4;&#x771F;&#x7684;&#x6709;&#x70B9;&#x957F;&#x2026;</p><p> <img src="https://upload-images.jianshu.io/upload_images/13694807-2fce87158bc3847b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p><p>&#x535A;&#x4E3B;&#x6709;&#x4E00;&#x4E2A;&#x73B0;&#x6210;&#x7684;&#x955C;&#x50CF;&#xFF0C;&#x7F51;&#x76D8;&#x94FE;&#x63A5;&#xFF1A;</p><p>&#x94FE;&#x63A5;&#xFF1A;<a href="https://pan.baidu.com/s/1Kc57rozsS78dhBtwYtQNtQ" target="_blank" rel="noopener">https://pan.baidu.com/s/1Kc57rozsS78dhBtwYtQNtQ</a><br>&#x63D0;&#x53D6;&#x7801;&#xFF1A;wbaw </p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;http://upload-images.jianshu.io/upload_images/13694807-77bc0d44afeccb05.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="图像处理" scheme="https://perkyrookie.github.io/tags/%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86/"/>
    
      <category term="树莓派" scheme="https://perkyrookie.github.io/tags/%E6%A0%91%E8%8E%93%E6%B4%BE/"/>
    
      <category term="OpenCV" scheme="https://perkyrookie.github.io/tags/OpenCV/"/>
    
  </entry>
  
  <entry>
    <title>数据结构：希尔排序</title>
    <link href="https://perkyrookie.github.io/PerkyRookie/8ae67b8f/"/>
    <id>https://perkyrookie.github.io/PerkyRookie/8ae67b8f/</id>
    <published>2018-12-17T06:16:07.000Z</published>
    <updated>2019-01-22T15:14:19.479Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><img src="https://upload-images.jianshu.io/upload_images/13694807-a60a57ffe7edd0df.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p><a id="more"></a><h1 id="&#x524D;&#x8A00;"><a href="#&#x524D;&#x8A00;" class="headerlink" title="&#x524D;&#x8A00;"></a>&#x524D;&#x8A00;</h1><blockquote><p>&#x5E0C;&#x5C14;&#x6392;&#x5E8F;&#x662F;Donald Shell&#x4E8E;1959&#x5E74;&#x63D0;&#x51FA;&#x6765;&#x7684;&#x4E00;&#x79CD;&#x6392;&#x5E8F;&#x7B97;&#x6CD5;&#xFF0C;&#x5B83;&#x662F;&#x7B2C;&#x4E00;&#x6279;&#x7A81;&#x7834;$O(n^2)$&#x8FD9;&#x4E2A;&#x65F6;&#x95F4;&#x590D;&#x6742;&#x5EA6;&#x7684;&#x7B97;&#x6CD5;&#x4E4B;&#x4E00;&#x3002;&#x5927;&#x8BDD;&#x6570;&#x636E;&#x7ED3;&#x6784;&#x5BF9;&#x8FD9;&#x4E2A;&#x7B97;&#x6CD5;&#x7684;&#x8BB2;&#x89E3;&#xFF0C;&#x6211;&#x770B;&#x5F97;&#x4E00;&#x77E5;&#x534A;&#x89E3;&#x7684;&#xFF0C;&#x4E4B;&#x540E;&#x7F51;&#x4E0A;&#x627E;&#x4E86;&#x4E0B;&#x8D44;&#x6599;&#xFF0C;&#x53D1;&#x73B0;&#x7EF4;&#x57FA;&#x767E;&#x79D1;&#x5BF9;&#x8FD9;&#x4E2A;&#x7B97;&#x6CD5;&#x7684;&#x8BB2;&#x89E3;&#x975E;&#x5E38;&#x4E0D;&#x9519;&#xFF0C;&#x7279;&#x5728;&#x6B64;&#x6574;&#x7406;&#x4E00;&#x6CE2;&#x3002;</p></blockquote><h1 id="&#x539F;&#x7406;"><a href="#&#x539F;&#x7406;" class="headerlink" title="&#x539F;&#x7406;"></a>&#x539F;&#x7406;</h1><p>&#x5E0C;&#x5C14;&#x6392;&#x5E8F;&#x662F;&#x57FA;&#x4E8E;&#x63D2;&#x5165;&#x6392;&#x5E8F;&#x7684;&#x4EE5;&#x4E0B;&#x4E24;&#x70B9;&#x6027;&#x8D28;&#x800C;&#x63D0;&#x51FA;&#x6539;&#x8FDB;&#x65B9;&#x6CD5;&#x7684;&#xFF1A;</p><ul><li>&#x63D2;&#x5165;&#x6392;&#x5E8F;&#x5728;&#x5BF9;&#x51E0;&#x4E4E;&#x5DF2;&#x7ECF;&#x6392;&#x597D;&#x5E8F;&#x7684;&#x6570;&#x636E;&#x64CD;&#x4F5C;&#x65F6;&#xFF0C;&#x6548;&#x7387;&#x9AD8;&#xFF0C;&#x5373;&#x53EF;&#x4EE5;&#x8FBE;&#x5230;&#x7EBF;&#x6027;&#x6392;&#x5E8F;&#x7684;&#x6548;&#x7387;</li><li>&#x4F46;&#x63D2;&#x5165;&#x6392;&#x5E8F;&#x4E00;&#x822C;&#x6765;&#x8BF4;&#x662F;&#x4F4E;&#x6548;&#x7684;&#xFF0C;&#x56E0;&#x4E3A;&#x63D2;&#x5165;&#x6392;&#x5E8F;&#x6BCF;&#x6B21;&#x53EA;&#x80FD;&#x5C06;&#x6570;&#x636E;&#x79FB;&#x52A8;&#x4E00;&#x4F4D;</li></ul><p><img src="http://upload-images.jianshu.io/upload_images/13694807-dadbb77e615338ba.gif?imageMogr2/auto-orient/strip" alt=""></p><p>&#x5148;&#x4E0A;&#x4E2A;&#x7EF4;&#x57FA;&#x767E;&#x79D1;&#x7684;&#x52A8;&#x56FE;&#xFF0C;&#x4E0D;&#x77E5;&#x9053;&#x4F60;&#x4EEC;&#x770B;&#x4E0D;&#x770B;&#x5F97;&#x61C2;&#xFF0C;&#x53CD;&#x6B63;&#x6211;&#x4E0D;&#x662F;&#x5F88;&#x61C2;&#x2026;&#x2026;<img src="https://upload-images.jianshu.io/upload_images/13694807-e02ec233ad041eec.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p><p><strong>&#x8BF4;&#x8BF4;&#x6211;&#x7684;&#x4E2A;&#x4EBA;&#x7406;&#x89E3;&#xFF1A;</strong></p><p>&#x5E0C;&#x5C14;&#x6392;&#x5E8F;&#x5176;&#x5B9E;&#x5C31;&#x662F;&#x76F4;&#x63A5;&#x63D2;&#x5165;&#x6392;&#x5E8F;&#x7684;&#x5347;&#x7EA7;&#xFF0C;&#x539F;&#x7406;&#x5C31;&#x662F;&#x5148;&#x5C06;&#x6574;&#x4E2A;&#x5F85;&#x6392;&#x5E8F;&#x5217;&#x6309;&#x7167;&#x67D0;&#x4E2A;&#x589E;&#x91CF;&#xFF08;&#x4E5F;&#x79F0;&#x6B65;&#x957F;&#xFF09;&#x5206;&#x5272;&#x6210;&#x82E5;&#x5E72;&#x4E2A;&#x5B50;&#x5E8F;&#x5217;&#x5206;&#x522B;&#x8FDB;&#x884C;&#x76F4;&#x63A5;&#x63D2;&#x5165;&#x6392;&#x5E8F;&#xFF0C;&#x7136;&#x540E;&#x5408;&#x5E76;&#xFF0C;&#x4E4B;&#x540E;&#x4F9D;&#x6B21;&#x7F29;&#x5C0F;&#x589E;&#x91CF;&#x5927;&#x5C0F;&#x5728;&#x8FDB;&#x884C;&#x6392;&#x5E8F;&#xFF0C;&#x5F53;&#x589E;&#x91CF;&#x8DB3;&#x591F;&#x5C0F;&#xFF08;&#x901A;&#x5E38;&#x4E3A;1&#xFF09;&#x65F6;&#xFF0C;&#x518D;&#x5BF9;&#x5168;&#x4F53;&#x5143;&#x7D20;&#x8FDB;&#x884C;&#x76F4;&#x63A5;&#x63D2;&#x5165;&#x6392;&#x5E8F;&#xFF0C;&#x800C;&#x6B64;&#x65F6;&#x9700;&#x6392;&#x5E8F;&#x7684;&#x6570;&#x636E;&#x51E0;&#x4E4E;&#x662F;&#x5DF2;&#x6392;&#x597D;&#x7684;&#x4E86;&#xFF0C;&#x6240;&#x4EE5;&#x6B64;&#x65F6;&#x63D2;&#x5165;&#x6392;&#x5E8F;&#x8F83;&#x5FEB;&#x3002;</p><p><strong>&#x5F53;&#x7136;&#x5982;&#x679C;&#x4F60;&#x89C9;&#x5F97;&#x6587;&#x5B57;&#x6BD4;&#x8F83;&#x4E4F;&#x5473;&#x5C31;&#x770B;&#x4E0B;&#x9762;&#x7684;&#x8FD9;&#x4E9B;&#x4F8B;&#x5B50;&#x5427;</strong></p><p>&#x4F8B;&#x5982;&#xFF0C;&#x5047;&#x8BBE;&#x6709;&#x8FD9;&#x6837;&#x4E00;&#x7EC4;&#x6570;<code>[9 1 5 8 3 7 4 6 2]</code>&#xFF0C;&#x5982;&#x679C;&#x6211;&#x4EEC;&#x5148;&#x4EE5;&#x6B65;&#x957F;&#x4E3A;4&#x8FDB;&#x884C;&#x5206;&#x5272;&#xFF0C;&#x5C31;&#x662F;&#x8FD9;&#x6837;&#xFF1A;</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">9 1 5 8</span><br><span class="line">3 7 4 6 </span><br><span class="line">2</span><br></pre></td></tr></tbody></table></figure><p>&#x7136;&#x540E;&#x6211;&#x4EEC;&#x5BF9;&#x6BCF;&#x5217;&#x8FDB;&#x884C;&#x6392;&#x5E8F;&#xFF08;&#x6CE8;&#x610F;&#x6BCF;&#x5217;&#x54E6;&#xFF09;&#xFF1A;</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">2 1 4 6</span><br><span class="line">3 7 5 8</span><br><span class="line">9</span><br></pre></td></tr></tbody></table></figure><p>&#x5C06;&#x4E0A;&#x8FF0;&#x56DB;&#x884C;&#x6570;&#x5B57;&#xFF0C;&#x4F9D;&#x5E8F;&#x5408;&#x5E76;&#x6211;&#x4EEC;&#x5F97;&#x5230;&#xFF1A;<code>[ 2 1 4 6 3 7 5 8 9 ]</code>&#x3002;&#x6B64;&#x65F6;2&#x5DF2;&#x7ECF;&#x5F80;&#x524D;&#x79FB;&#xFF0C;&#x800C;8&#x3001;9&#x5DF2;&#x7ECF;&#x5728;&#x540E;&#x4E24;&#x4F4D;&#xFF0C;&#x7136;&#x540E;&#x518D;&#x4EE5;2&#x4E3A;&#x6B65;&#x957F;&#x8FDB;&#x884C;&#x5206;&#x5272;&#xFF1A;</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">2 1</span><br><span class="line">4 6</span><br><span class="line">3 7</span><br><span class="line">5 8</span><br><span class="line">9</span><br></pre></td></tr></tbody></table></figure><p>&#x7EE7;&#x7EED;&#x6392;&#x5E8F;&#xFF1A;</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">2 1</span><br><span class="line">3 6</span><br><span class="line">4 7</span><br><span class="line">5 8</span><br><span class="line">9</span><br></pre></td></tr></tbody></table></figure><p>&#x5408;&#x5E76;&#x5F97;&#x5230;<code>&#xFF3B; 2 1 3 6 4 7 5 8 9&#xFF3D;</code>&#xFF0C;&#x6B64;&#x65F6;&#x5E8F;&#x5217;&#x5DF2;&#x7ECF;&#x57FA;&#x672C;&#x6709;&#x5E8F;&#xFF0C;&#x9700;&#x4EA4;&#x6362;&#x6570;&#x636E;&#x7684;&#x60C5;&#x51B5;&#x5927;&#x4E3A;&#x51CF;&#x5C11;&#xFF0C;&#x8FD9;&#x65F6;&#x6574;&#x5217;&#x8FDB;&#x884C;&#x76F4;&#x63A5;&#x63D2;&#x5165;&#x6392;&#x5E8F;&#x6548;&#x7387;&#x5C31;&#x975E;&#x5E38;&#x9AD8;&#x3002;</p><p>&#x6700;&#x7EC8;&#x5B8C;&#x6210;&#x6392;&#x5E8F;&#x8FC7;&#x7A0B;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x6B65;&#x957F;&#x4E3A;1&#x65F6;&#xFF0C;&#x5F97;&#x5230;&#x6700;&#x7EC8;&#x5E8F;&#x5217;&#x4E3A;&#xFF1A;<code>1 2 3 4 5 6 7 8 9</code>&#x3002;</p><p> <img src="https://upload-images.jianshu.io/upload_images/13694807-99bdb14c09305032.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p><h1 id="&#x793A;&#x4F8B;&#x4EE3;&#x7801;&#xFF08;C&#xFF09;"><a href="#&#x793A;&#x4F8B;&#x4EE3;&#x7801;&#xFF08;C&#xFF09;" class="headerlink" title="&#x793A;&#x4F8B;&#x4EE3;&#x7801;&#xFF08;C&#xFF09;"></a>&#x793A;&#x4F8B;&#x4EE3;&#x7801;&#xFF08;C&#xFF09;</h1><figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXSIZE 100<span class="comment">//&#x7528;&#x4E8E;&#x8981;&#x6392;&#x5E8F;&#x6570;&#x7EC4;&#x7684;&#x6700;&#x5927;&#x503C; </span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span>//&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x987A;&#x5E8F;&#x8868;&#x7ED3;&#x6784; </span></span><br><span class="line"><span class="class">{</span></span><br><span class="line"><span class="keyword">int</span> r[MAXSIZE+<span class="number">1</span>];<span class="comment">//&#x7528;&#x4E8E;&#x5B58;&#x50A8;&#x8981;&#x6392;&#x5E8F;&#x6570;&#x7EC4;&#xFF0C;r[0]&#x7528;&#x4F5C;&#x54E8;&#x5175;&#x6216;&#x8005;&#x4E34;&#x65F6;&#x53D8;&#x91CF; </span></span><br><span class="line"><span class="keyword">int</span> length;<span class="comment">//&#x7528;&#x4E8E;&#x5B58;&#x50A8;&#x987A;&#x5E8F;&#x8868;&#x7684;&#x6700;&#x5927;&#x957F;&#x5EA6; </span></span><br><span class="line">}SqList;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">ShellSort</span><span class="params">(SqList *L)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line"><span class="keyword">int</span> i,j;</span><br><span class="line"><span class="keyword">int</span> gap=L-&gt;length;<span class="comment">//&#x83B7;&#x53D6;&#x6570;&#x7EC4;&#x957F;&#x5EA6; </span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(gap/=<span class="number">2</span>;gap&gt;=<span class="number">1</span>;gap/=<span class="number">2</span>)<span class="comment">//&#x6B65;&#x957F; </span></span><br><span class="line"><span class="keyword">for</span>(i=gap+<span class="number">1</span>; i&lt;=L-&gt;length; i++)<span class="comment">//&#x4ECE;&#x7B2C;gap+1&#x4E2A;&#x5143;&#x7D20;&#x5F00;&#x59CB;&#xFF0C;&#x56E0;&#x4E3A;r[0]&#x88AB;&#x5F53;&#x505A;&#x4E34;&#x65F6;&#x53D8;&#x91CF; </span></span><br><span class="line"><span class="keyword">if</span>(L-&gt;r[i] &lt; L-&gt;r[i-gap])<span class="comment">//&#x6BCF;&#x4E2A;&#x5143;&#x7D20;&#x4E0E;&#x81EA;&#x5DF1;&#x7EC4;&#x5185;&#x7684;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x76F4;&#x63A5;&#x63D2;&#x5165;&#x6392;&#x5E8F; </span></span><br><span class="line">{</span><br><span class="line">L-&gt;r[<span class="number">0</span>]=L-&gt;r[i];<span class="comment">//&#x628A;&#x8981;&#x4EA4;&#x6362;&#x7684;&#x6570;&#x636E;&#x6682;&#x5B58;&#x7684;L-&gt;r[0]&#x4E2D; </span></span><br><span class="line"><span class="keyword">for</span>(j=i-gap; j&gt;<span class="number">0</span>&amp;&amp;L-&gt;r[j] &gt; L-&gt;r[<span class="number">0</span>]; j-=gap)</span><br><span class="line">L-&gt;r[j+gap] = L-&gt;r[j];<span class="comment">//&#x8BB0;&#x5F55;&#x540E;&#x79FB;&#xFF0C;&#x67E5;&#x627E;&#x63D2;&#x5165;&#x4F4D;&#x7F6E; </span></span><br><span class="line"></span><br><span class="line">L-&gt;r[j+gap]=L-&gt;r[<span class="number">0</span>];<span class="comment">//&#x63D2;&#x5165; </span></span><br><span class="line">}</span><br><span class="line">} </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line"><span class="keyword">int</span> i=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> <span class="built_in">array</span>[] = {<span class="number">39</span>,<span class="number">80</span>,<span class="number">76</span>,<span class="number">41</span>,<span class="number">13</span>,<span class="number">29</span>,<span class="number">50</span>,<span class="number">78</span>,<span class="number">30</span>,<span class="number">11</span>,<span class="number">100</span>,<span class="number">7</span>,<span class="number">41</span>,<span class="number">86</span>};</span><br><span class="line">    </span><br><span class="line">    SqList L;</span><br><span class="line">    L.length = <span class="keyword">sizeof</span>(<span class="built_in">array</span>)/<span class="keyword">sizeof</span>(<span class="built_in">array</span>[<span class="number">0</span>]);<span class="comment">//&#x83B7;&#x53D6;&#x6570;&#x7EC4;&#x957F;&#x5EA6; </span></span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;L.length;i++)</span><br><span class="line">    {</span><br><span class="line">L.r[i+<span class="number">1</span>]=<span class="built_in">array</span>[i];<span class="comment">//&#x628A;&#x6570;&#x7EC4;&#x5B58;&#x5165;&#x987A;&#x5E8F;&#x8868;&#x7ED3;&#x6784; </span></span><br><span class="line">}</span><br><span class="line">ShellSort(&amp;L);</span><br><span class="line"></span><br><span class="line"><span class="comment">//&#x8F93;&#x51FA;&#x6392;&#x5E8F;&#x540E;&#x7684;&#x6570;&#x7EC4; </span></span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;L.length;i++)</span><br><span class="line">{</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>,L.r[i+<span class="number">1</span>]);</span><br><span class="line">}</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>&#x53EF;&#x80FD;&#x6709;&#x51E0;&#x4E2A;&#x6B65;&#x9AA4;&#x7565;&#x96BE;&#x61C2;&#xFF0C;&#x8FD9;&#x91CC;&#x89E3;&#x91CA;&#x4E0B;&#xFF1A;</p><ul><li><p>&#x7B2C;15&#x884C;&#xFF1A;&#x8FD9;&#x91CC;&#x7684;&#x6B65;&#x957F;&#x91C7;&#x7528;$\frac {n} {2}$,&#x6700;&#x7EC8;&#x5224;&#x65AD;&#x6761;&#x4EF6;&#x4E3A;gap&gt;=1,&#x8FD9;&#x91CC;&#x4E0D;&#x7BA1;&#x4F60;&#x6570;&#x7EC4;&#x521D;&#x59CB;&#x957F;&#x5EA6;&#x4E3A;&#x591A;&#x5C11;&#xFF0C;&#x9664;&#x5230;&#x6700;&#x540E;&#x5747;&#x4F1A;&#x7B49;&#x4E8E;1&#xFF0C;&#x800C;&#x7B49;&#x4E8E;1&#x65F6;&#xFF0C;&#x5C31;&#x662F;&#x6267;&#x884C;&#x6700;&#x540E;&#x4E00;&#x6B21;&#x5FAA;&#x73AF;&#xFF0C;&#x8FD9;&#x4E2A;&#x65F6;&#x5019;&#x4E5F;&#x5C31;&#x662F;&#x6240;&#x6709;&#x5143;&#x7D20;&#x8FDB;&#x884C;&#x76F4;&#x63A5;&#x63D2;&#x5165;&#x6392;&#x5E8F;&#x3002;&#x5F53;&#x7136;&#x4E5F;&#x53EF;&#x5199;&#x6210;gap&gt;0&#x3002;</p></li><li><p>&#x7B2C;16&#x884C;&#xFF1A;&#x5728;&#x524D;&#x9762;&#x5B9A;&#x4E49;&#x987A;&#x5E8F;&#x8868;&#x7ED3;&#x6784;&#x65F6;&#xFF0C;&#x6211;&#x4EEC;&#x52A0;&#x591A;&#x4E86;&#x4E00;&#x4F4D;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x628A;r[0]&#x5F53;&#x505A;&#x4EA4;&#x6362;&#x6570;&#x636E;&#x65F6;&#x7684;&#x4E34;&#x65F6;&#x53D8;&#x91CF;&#x3002;</p></li><li><p>&#x7B2C;20~23&#x884C;&#xFF1A;&#x5BF9;&#x4E8E;&#x8FD9;&#x4E2A;&#x5FAA;&#x73AF;&#x6211;&#x4EEC;&#x76F4;&#x63A5;&#x62FF;&#x4E0A;&#x9762;&#x7684;&#x4F8B;&#x5B50;&#x4E2D;&#x7684;&#x4E00;&#x5217;&#x8FDB;&#x884C;&#x8BB2;&#x89E3;<code>&#xFF08;9 3 2&#xFF09;</code>&#xFF1A;</p></li></ul><p><img src="http://upload-images.jianshu.io/upload_images/13694807-4d6b139661d77212.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p><p>&#x5F53;$i=5$&#x65F6;&#xFF0C;9&#x548C;3&#x8FDB;&#x884C;&#x4E86;&#x4E00;&#x6B21;&#x4EA4;&#x6362;&#xFF0C;&#x53D8;&#x4E3A;<code>&#xFF08;3 9 2&#xFF09;</code>(&#x4F4D;&#x7F6E;&#x4E3A;1 5 9&#xFF09;&#xFF0C;&#x4E4B;&#x540E;&#x5728;$i=9$&#x65F6;$(&#x6B64;&#x65F6;r[0]=r[i]=2)$&#xFF0C;&#x505A;&#x51FA;&#x7684;&#x4EA4;&#x6362;&#x5982;&#x4E0A;&#x56FE;&#x6240;&#x793A;&#xFF08;&#x56FE;&#x7565;&#x5DEE;&#x2026;)&#xFF0C;&#x5206;&#x4E3A;&#x4E09;&#x4E2A;&#x6B65;&#x9AA4;&#xFF1A;$(gap=4)$</p><ul><li>&#x7B2C;&#x4E00;&#x6B21;&#x8FDB;&#x5165;&#x5FAA;&#x73AF;$j=i-gap=5,r[j]=r[5]=9&gt;r[0]$&#xFF0C;&#x6267;&#x884C;23&#x884C;&#x5F97;$r[j+gap]=r[9]=r[j]=9$&#xFF0C;&#x6B64;&#x65F6;&#x8BE5;&#x5217;&#x6570;&#x503C;&#x53D8;&#x4E3A;<code>(3 9 9)</code>&#xFF1B;</li><li>&#x7EE7;&#x7EED;&#x7B2C;&#x4E8C;&#x6B21;&#x5FAA;&#x73AF;$j=j-gap=1,r[j]=r[1]=3&gt;r[0]$&#xFF0C;&#x540C;&#x6837;&#x6267;&#x884C;&#x5FAA;&#x73AF;$r[j+gap]=r[5]=r[j]=3$&#xFF0C;&#x6B64;&#x65F6;&#x53D8;&#x4E3A;<code>&#xFF08;3 3 9&#xFF09;</code>&#xFF1B;</li><li>&#x8DF3;&#x51FA;&#x5FAA;&#x73AF;(&#x6CE8;&#x610F;&#xFF1A;&#x8DF3;&#x51FA;&#x5FAA;&#x73AF;&#x65F6;&#x591A;&#x6267;&#x884C;&#x4E86;&#x4E00;&#x6B21;$j-=gap=-3&#x200B;$)&#xFF0C;&#x6267;&#x884C;$r[j+gap]=r[-3+4]=r[1]=r[0]=2&#x200B;$&#xFF0C;&#x6700;&#x7EC8;&#x53D8;&#x4E3A;<code>(2 3 9)</code>&#x3002;</li></ul><h1 id="&#x6B65;&#x957F;&#xFF08;&#x589E;&#x91CF;&#xFF09;&#x9009;&#x62E9;"><a href="#&#x6B65;&#x957F;&#xFF08;&#x589E;&#x91CF;&#xFF09;&#x9009;&#x62E9;" class="headerlink" title="&#x6B65;&#x957F;&#xFF08;&#x589E;&#x91CF;&#xFF09;&#x9009;&#x62E9;"></a>&#x6B65;&#x957F;&#xFF08;&#x589E;&#x91CF;&#xFF09;&#x9009;&#x62E9;</h1><p>&#x6B65;&#x957F;&#x7684;&#x9009;&#x53D6;&#x975E;&#x5E38;&#x5173;&#x952E;&#xFF0C;&#x4F46;&#x662F;&#x6B65;&#x957F;&#x7684;&#x9009;&#x62E9;&#x6CA1;&#x6709;&#x7EDF;&#x4E00;&#x89C4;&#x5B9A;&#xFF0C;&#x4E5F;&#x6CA1;&#x7EDD;&#x5BF9;&#x7684;&#x89C4;&#x5F8B;&#x3002;&#x53EA;&#x8981;&#x6EE1;&#x8DB3;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x6B65;&#x957F;&#x4E3A;1&#x5373;&#x53EF;&#x3002;Donald Shell&#x6700;&#x521D;&#x5EFA;&#x8BAE;&#x6B65;&#x957F;&#x9009;&#x62E9;&#x4E3A;$\frac {n} {2}$,&#x867D;&#x7136;&#x8FD9;&#x6837;&#x53BB;&#x53EF;&#x4EE5;&#x6BD4;$O(n^2)$&#x7C7B;&#x7684;&#x7B97;&#x6CD5;&#x66F4;&#x597D;&#xFF0C;&#x4F46;&#x4ECD;&#x7136;&#x6709;&#x51CF;&#x5C11;&#x5E73;&#x5747;&#x65F6;&#x95F4;&#x548C;&#x6700;&#x5DEE;&#x65F6;&#x95F4;&#x7684;&#x4F59;&#x5730;&#x3002;&#x7EF4;&#x57FA;&#x767E;&#x79D1;&#x7ED9;&#x51FA;&#x7684;&#x90E8;&#x5206;&#x6B65;&#x957F;&#x4E0E;&#x6700;&#x574F;&#x60C5;&#x51B5;&#x4E0B;&#x590D;&#x6742;&#x5EA6;&#x6709;&#xFF1A;</p><p><img src="http://upload-images.jianshu.io/upload_images/13694807-9eea47677d34d74a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p><p>&#x5DF2;&#x77E5;&#x7684;&#x6700;&#x597D;&#x6B65;&#x957F;&#x5E8F;&#x5217;&#x662F;&#x7531;Sedgewick&#x63D0;&#x51FA;&#x7684;(1, 5, 19, 41, 109,&#x2026;)&#xFF0C;&#x8BE5;&#x5E8F;&#x5217;&#x7684;&#x9879;&#x6765;&#x81EA;$9\times4^i-9\times2^i+1$&#x548C;$2^{i+2}\times(2^{i+2}-3)+1$&#x8FD9;&#x4E24;&#x4E2A;&#x7B97;&#x5F0F;&#x3002;&#x8FD9;&#x9879;&#x7814;&#x7A76;&#x4E5F;&#x8868;&#x660E;&#x201C;&#x6BD4;&#x8F83;&#x5728;&#x5E0C;&#x5C14;&#x6392;&#x5E8F;&#x4E2D;&#x662F;&#x6700;&#x4E3B;&#x8981;&#x7684;&#x64CD;&#x4F5C;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x4EA4;&#x6362;&#x3002;&#x201D;&#x7528;&#x8FD9;&#x6837;&#x6B65;&#x957F;&#x5E8F;&#x5217;&#x7684;&#x5E0C;&#x5C14;&#x6392;&#x5E8F;&#x6BD4;&#x63D2;&#x5165;&#x6392;&#x5E8F;&#x8981;&#x5FEB;&#xFF0C;&#x751A;&#x81F3;&#x5728;&#x5C0F;&#x6570;&#x7EC4;&#x4E2D;&#x6BD4;&#x5FEB;&#x901F;&#x6392;&#x5E8F;&#x548C;&#x5806;&#x6392;&#x5E8F;&#xFF08;&#x540E;&#x7EED;&#x535A;&#x5BA2;&#x6574;&#x7406;&#xFF09;&#xFF0C;&#x4F46;&#x662F;&#x5728;&#x6D89;&#x53CA;&#x5927;&#x91CF;&#x6570;&#x636E;&#x65F6;&#x5E0C;&#x5C14;&#x6392;&#x5E8F;&#x8FD8;&#x662F;&#x6BD4;&#x5FEB;&#x901F;&#x6392;&#x5E8F;&#x6162;&#x3002;</p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;https://upload-images.jianshu.io/upload_images/13694807-a60a57ffe7edd0df.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="C" scheme="https://perkyrookie.github.io/tags/C/"/>
    
      <category term="排序算法" scheme="https://perkyrookie.github.io/tags/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
</feed>
